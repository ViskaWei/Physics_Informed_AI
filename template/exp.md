# 📘 子实验报告模板（Sub-Experiment Report）

---
> **实验名称：** TODO  
> **对应 MVP：** MVP-X.X（来自 main.md）  
> **作者：** Viska Wei  
> **日期：** TODO  
> **数据版本：** TODO  
> **模型版本：** TODO  
> **状态：** 🔄 进行中 / ✅ 已完成

---

# 📑 目录

- [1. 🎯 目标](#1--目标)
- [2. 🧪 实验设计](#2--实验设计)
- [3. 📊 实验图表](#3--实验图表)
- [4. 💡 关键洞见](#4--关键洞见)
- [5. 📝 结论](#5--结论)
- [6. 📎 附录](#6--附录)

---

# ⚡ 核心结论速览（供 main 提取）

> **本节是给 main.md 提取用的摘要，实验完成后第一时间填写。**

### 一句话总结

> **[用一句话概括本实验最重要的发现]**

### 对假设的验证

| 验证问题 | 结果 | 结论 |
|---------|------|------|
| [Q from main] | ✅/❌ [数值] | [简短结论] |

### 设计启示（1-2 条）

| 启示 | 具体建议 |
|------|---------|
| [启示 1] | [建议] |
| [启示 2] | [建议] |

### 关键数字

| 指标 | 值 |
|------|-----|
| [核心指标 1] | [数值] |
| [核心指标 2] | [数值] |

---

# 1. 🎯 目标

## 1.1 实验目的

> 从 main.md 的 MVP 设计中提取，明确本实验要回答的具体问题。

**回答的问题**：
- [问题 1]
- [问题 2]

**对应 main.md 的**：
- 验证问题：Q[X]
- 子假设：H[X.X]

## 1.2 预期结果

> 在实验前写下预期，实验后对照。

| 场景 | 预期结果 | 判断标准 |
|------|---------|---------|
| 正常情况 | [预期数值范围] | 验收通过 |
| 异常情况 A | [如果出现这个结果] | 需要 [处理方式] |
| 异常情况 B | [如果出现这个结果] | 需要 [处理方式] |

---

# 2. 🧪 实验设计

## 2.1 数据

| 配置项 | 值 |
|--------|-----|
| 训练样本数 | |
| 测试样本数 | |
| 特征维度 | |
| 标签参数 | |
| 辅助参数 | |

**噪声模型**：

$$
\text{noisy\_flux} = \text{flux} + \mathcal{N}(0, \sigma^2)
$$

**Noise levels**: $\sigma \in \{...\}$

## 2.2 特征设计

| 特征类型 | 维度 | 说明 |
|---------|------|------|
| [类型 1] | [维度] | [说明] |
| [类型 2] | [维度] | [说明] |

**特征构造细节**：
- [构造方法 1]
- [构造方法 2]

## 2.3 模型与算法

### [模型名称 1]

$$
[公式]
$$

**超参数**：
- [参数 1]：[值/范围]
- [参数 2]：[值/范围]

### [模型名称 2]（可选）

[模型描述]

## 2.4 超参数配置

| 参数 | 范围/值 | 说明 |
|------|--------|------|
| [参数 1] | [范围] | [为什么选这个范围] |
| [参数 2] | [范围] | |

## 2.5 评价指标

| 指标 | 公式 | 用途 |
|------|------|------|
| $R^2$ | $1 - \frac{\sum(y - \hat{y})^2}{\sum(y - \bar{y})^2}$ | 主要评价指标 |
| MAE | $\frac{1}{n}\sum\|y - \hat{y}\|$ | 绝对误差参考 |
| RMSE | $\sqrt{\frac{1}{n}\sum(y - \hat{y})^2}$ | 与 $R^2$ 配合 |

---

# 3. 📊 实验图表

> 每张图配有标题、描述和关键观察。

### 图 1：[图表标题]

![图片](./img/[filename].png)
<!-- 或 TODO: `logg/[topic]/img/[filename].png` -->

**Figure 1. [一句话描述图表内容]**

**关键观察**：
- [观察点 1]
- [观察点 2]
- [观察点 3]

---

### 图 2：[图表标题]

![图片](./img/[filename].png)

**Figure 2. [一句话描述图表内容]**

**关键观察**：
- [观察点 1]
- [观察点 2]

---

# 4. 💡 关键洞见

> 分层次组织洞见，从宏观到微观。

## 4.1 宏观层洞见

> 用于指导架构设计、理解问题本质的高层次发现。

- [洞见 1]
- [洞见 2]

## 4.2 模型层洞见

> 用于优化模型、调参的中层次发现。

- [洞见 1]
- [洞见 2]

## 4.3 实验层细节洞见

> 具体的实验观察和技术细节。

- [洞见 1]
- [洞见 2]

---

# 5. 📝 结论

## 5.1 核心发现

> 用一句话总结本实验最重要的发现（punch line），使用引用格式。

> **[核心发现一句话]**

**假设验证**：
- ❌ 原假设：[原来以为是什么]
- ✅ 实验结果：[实际发现是什么]

## 5.2 关键结论（2-4 条）

| # | 结论 | 证据 |
|---|------|------|
| 1 | **[结论关键词]** | [支撑数据/观察] |
| 2 | **[结论关键词]** | [支撑数据/观察] |
| 3 | **[结论关键词]** | [支撑数据/观察] |

## 5.3 设计启示

### 架构/方法原则

| 原则 | 建议 | 原因 |
|------|------|------|
| [原则名] | [具体做法] | [为什么] |

### ⚠️ 常见陷阱

| 常见做法 | 实验证据 |
|----------|----------|
| "[错误做法]" | [为什么是错的/会导致什么问题] |

## 5.4 物理解释（可选）

> 用领域知识解释为什么会有这样的结果。

- [解释 1]
- [解释 2]

## 5.5 关键数字速查

| 指标 | 值 | 配置/条件 |
|------|-----|----------|
| 最佳性能 | [数值] | [配置] |
| 达到目标的最小条件 | [数值] | [条件] |
| 性能天花板 | [数值] | [配置] |
| 与 baseline 对比 | [差值/比例] | |

## 5.6 下一步工作

> 基于本实验结果，建议的后续方向。

| 方向 | 具体任务 | 优先级 | 对应 MVP |
|------|----------|--------|---------|
| [方向 1] | [具体做什么] | 🔴/🟡/🟢 | MVP-X.X |
| [方向 2] | [具体做什么] | 🔴/🟡/🟢 | MVP-X.X |

---

# 6. 📎 附录

## 6.1 数值结果表

> 完整的实验数值结果。

### 主要结果

| 配置 | $R^2$ | MAE | RMSE | 备注 |
|------|-------|-----|------|------|
| [配置 1] | | | | |
| [配置 2] | | | | |
| [配置 3] | | | | |

### [维度扫描名称]（如 PCA 维度、Noise Level）

| [维度] | $R^2$ | MAE | RMSE | 备注 |
|--------|-------|-----|------|------|
| [值 1] | | | | |
| [值 2] | | | | |
| [值 3] | | | | |

### 交叉对比（可选）

| [维度 A] \ [维度 B] | [B=1] | [B=2] | [B=3] |
|--------------------|-------|-------|-------|
| [A=1] | | | |
| [A=2] | | | |
| [A=3] | | | |

---

## 6.2 建议绘图

> 描述需要绘制但尚未完成的图表。

### 6.2.1 [图表标题]

- **目的**：展示什么
- **X 轴**：[变量]
- **Y 轴**：[变量]
- **图上标注**：[需要标注什么]

### 6.2.2 [图表标题]

- **目的**：展示什么
- **X 轴**：[变量]
- **Y 轴**：[变量]
- **图上标注**：[需要标注什么]

---

## 6.3 相关文件

| 类型 | 路径 | 说明 |
|------|------|------|
| 主框架 | `logg/[topic]/exp_[topic]_main_YYYYMMDD.md` | main 文件 |
| 本报告 | `logg/[topic]/exp_[name]_YYYYMMDD.md` | 当前文件 |
| 图表 | `logg/[topic]/img/` | 实验图表 |
| 实验代码 | `scripts/xxx.py` | 实验脚本 |
| 数据文件 | `data/xxx.pkl` | 实验数据 |

---

## 6.4 实验日志（可选）

> 记录实验过程中的关键事件和决策。

| 时间 | 事件 | 处理 |
|------|------|------|
| [时间] | [遇到的问题/发现] | [如何处理] |
| [时间] | [遇到的问题/发现] | [如何处理] |

---

> **模板使用说明**：
> 
> **工作流程**：
> 1. **实验前**：填写 §1（目标）、§2（实验设计）
> 2. **实验中**：记录结果到 §6.1，添加图表到 §3
> 3. **实验后**：填写 §4（洞见）、§5（结论）
> 4. **最后**：填写"核心结论速览"，同步到 main.md
> 
> **与 main.md 的关系**：
> - 本模板用于记录单个 MVP 实验的详细过程和结果
> - "核心结论速览"专门用于向 main.md 提取关键信息
> - main.md 负责整体把控，exp.md 负责细节记录
> 
> **LaTeX 公式规范**：
> - 行内公式：`$R^2 = 0.99$`
> - 独立公式块：`$$..$$`
> - 下划线变量：`$\log g$` 或 `log\_g`

