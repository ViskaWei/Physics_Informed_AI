# 模式库（Patterns）

目标：每 10 题沉淀一次，形成可复用模板 + 易错点清单。

## DP / 滚动数组
- 状态：f[i][j] = 到达 (i,j) 的最优值
- 转移：取上一列相邻行的最大/最小
- 初始化：f[:,0] = base
- 答案：max(f[:,W-1])
- 空间优化：prev / cur 滚动数组，O(H)
- 常见边界：i-1、i+1 越界；初列/末列；负无穷初始化

模板（Python）：
```python
NEG = -10**300
prev = [NEG]*H
for i in range(H):
    prev[i] = base(i)  # 题目定义
for j in range(1, W):
    cur = [NEG]*H
    for i in range(H):
        best = prev[i]
        if i-1 >= 0: best = max(best, prev[i-1])
        if i+1 < H:  best = max(best, prev[i+1])
        cur[i] = val(i,j) + best
    prev = cur
ans = max(prev)
```

易错点清单：
- [ ] 初值位置是否对（f[:,0] 还是 f[:,1]）
- [ ] 越界判断顺序
- [ ] 取 max/min 与题意一致
- [ ] 输出是否需要格式化（如保留 1 位小数）

## 滑动窗口（固定 / 可变长）
- 固定长度：窗口内维护计数/和；滑入/滑出 O(1)
- 可变长度：右指针推进，条件不满足时左指针收缩
- 易错：窗口条件定义；包含/不包含；空窗口

## 双指针 / 区间
- 排序后左右夹；或同向移动跳过不合法元素
- 易错：指针更新条件；重复元素；稳定性要求

## 前缀和 / 哈希计数
- 前缀和配合哈希表统计差值出现次数
- 易错：初始化 prefix=0 的计数；取模时负数处理

（持续补充：栈/队列、并查集、堆、图搜索、二分判定、回溯剪枝、贪心不等式、位运算技巧……）

