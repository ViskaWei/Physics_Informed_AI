# NN Â· log_g å®éªŒä¸»ç¬”è®°ï¼ˆæˆªè‡³ 2025-11-30ï¼‰

- æœ¬ç›®å½•ï¼š`logg/NN/`
- æœ€è¿‘æ›´æ–°æ—¶é—´ï¼š2025-11-30
- å†™ä½œé£æ ¼å‚è€ƒï¼š`/home/swei20/VIT/docs`
- è¯´æ˜ï¼šæ­¤æ–‡ä»¶æ˜¯è¯¥å­ç›®å½•æ‰€æœ‰å®éªŒçš„ä¸»ç´¢å¼•ã€æ ¸å¿ƒç»“è®ºä¸æœªæ¥è®¡åˆ’ã€‚

---

# ç›®å½•

0. [é—®é¢˜é‡è¿°](#0-é—®é¢˜é‡è¿°)
1. [ç ”ç©¶ç›®æ ‡](#1-ç ”ç©¶ç›®æ ‡)
2. [å®éªŒåœ°å›¾ï¼ˆå«è¶…é“¾æ¥ï¼‰](#2-å®éªŒåœ°å›¾å«è¶…é“¾æ¥)
3. [æ ¸å¿ƒå‘ç°ï¼ˆä¸­æ–‡Â·ä¸“ä¸šÂ·å‹ç¼©ï¼‰](#3-æ ¸å¿ƒå‘ç°ä¸­æ–‡ä¸“ä¸šå‹ç¼©)
4. [å…³é”®å›¾è¡¨](#4-å…³é”®å›¾è¡¨)
5. [ä¸‹ä¸€æ­¥å®éªŒè®¡åˆ’](#5-ä¸‹ä¸€æ­¥å®éªŒè®¡åˆ’)
6. [é™„å½•ï¼šæ‰€æœ‰å­å®éªŒç´¢å¼•](#6-é™„å½•æ‰€æœ‰å­å®éªŒç´¢å¼•)

---

# 0. é—®é¢˜é‡è¿°

## 0.1 æ ¸å¿ƒç ”ç©¶é—®é¢˜

> **MLP/CNN èƒ½å¦è¶…è¶Šä¼ ç»Ÿ ML æ¨¡å‹ï¼ˆRidge/LightGBMï¼‰ï¼Ÿä»€ä¹ˆæ¶æ„ç­–ç•¥æœ€æœ‰æ•ˆï¼Ÿæ•°æ®é‡çš„å½±å“æœ‰å¤šå¤§ï¼Ÿ**

è¿™ä¸ªé—®é¢˜å†³å®šäº†ï¼š
- **æ˜¯å¦åº”è¯¥ä½¿ç”¨ NN**ï¼šå¦‚æœ MLP æ— æ³•è¶…è¶Š LightGBMï¼Œéœ€è¦é‡æ–°è€ƒè™‘ç­–ç•¥
- **æ¶æ„å¤æ‚åº¦**ï¼šæ›´æ·±/æ›´å®½çš„ç½‘ç»œæ˜¯å¦æœ‰å¸®åŠ©
- **æ•°æ®é‡‡é›†ä¼˜å…ˆçº§**ï¼šæ•°æ®é‡ vs æ¶æ„æ”¹è¿›å“ªä¸ªæ›´é‡è¦

## 0.2 å¯¹æ¯”åŸºçº¿

| æ¨¡å‹ | 32k æ•°æ® $R^2$ | è§’è‰² |
|------|---------------|------|
| Ridge (Î±=200) | 0.458 | çº¿æ€§ baseline |
| LightGBM | 0.536 | 32k SOTAï¼ˆéçº¿æ€§ baselineï¼‰ |
| **MLP target** | > 0.536 | éœ€è¶…è¶Šæ‰æœ‰ä»·å€¼ |

## 0.3 å¯¹åç»­è®¾è®¡çš„ç›´æ¥å½±å“

| å¦‚æœ... | åˆ™... |
|---------|-------|
| Residual MLP > ç›´æ¥ MLP | Residual ç­–ç•¥åº”æˆä¸ºé»˜è®¤è®¾è®¡ |
| 100k æ•°æ® >> 32k æ•°æ® | ä¼˜å…ˆè·å–æ›´å¤šæ•°æ®ï¼Œè€Œéæ”¹è¿›æ¶æ„ |
| CNN $R^2 \approx 0$ | éœ€è¦ä¿®å¤å®ç°æˆ–æ¢ç”¨å…¶ä»–æ¶æ„ï¼ˆå¦‚ Attentionï¼‰ |

---

# 1. ç ”ç©¶ç›®æ ‡

æœ¬ç›®å½•èšç„¦äº**ç¥ç»ç½‘ç»œï¼ˆMLP/CNNï¼‰åœ¨ $\log g$ å›å½’ä»»åŠ¡ä¸Šçš„ç³»ç»Ÿæ€§æ¢ç´¢**ï¼Œä¸»è¦å›ç­”ï¼š

- MLP æ˜¯å¦èƒ½è¶…è¶Š Ridge / LightGBM ç­‰ä¼ ç»Ÿ ML baselineï¼Ÿ
- CNN çš„å±€éƒ¨å·ç§¯å½’çº³åç½®å¯¹å…‰è°±ä»»åŠ¡æ˜¯å¦æœ‰æ•ˆï¼Ÿ
- æ¶æ„æ·±åº¦/å®½åº¦/æ¿€æ´»å‡½æ•°ç­‰è¶…å‚æ•°çš„æœ€ä¼˜é…ç½®æ˜¯ä»€ä¹ˆï¼Ÿ
- æ•°æ®é‡ï¼ˆ32k vs 100kï¼‰å¯¹ NN æ€§èƒ½çš„å½±å“æœ‰å¤šå¤§ï¼Ÿ
- Residual ç­–ç•¥ï¼ˆå­¦ä¹  Ridge æ®‹å·®ï¼‰æ˜¯å¦èƒ½æå‡æ€§èƒ½ï¼Ÿ

ä¸ $\log g$ æ€»ç›®æ ‡çš„å…³ç³»ï¼šä¸ºåç»­ Physics-Informed NNï¼ˆå¦‚ Vision Transformerã€Attention æœºåˆ¶ï¼‰æä¾›**åšå®çš„ MLP/CNN baseline**ï¼Œæ˜ç¡®æ¶æ„é€‰æ‹©çš„åˆç†æ€§è¾¹ç•Œã€‚

---

# 2. å®éªŒåœ°å›¾ï¼ˆå«è¶…é“¾æ¥ï¼‰

| å®éªŒID | æ–‡ä»¶/ç›®å½• | ç±»å‹ | å…³é”®é…ç½® | ä¸»è¦æŒ‡æ ‡ | é“¾æ¥ |
|-------|-----------|------|----------|----------|------|
| E01 | exp_nn_comprehensive_analysis_20251130.md | MLP/CNN ç»¼åˆåˆ†æ | 53 ä¸ªå®éªŒ, 32k+100k æ•°æ® | $R^2_{\text{max}}=0.551$ (100k) | [è¯¦æƒ…](exp_nn_comprehensive_analysis_20251130.md) |
| E02 | exp_mlp_baseline_20251130.md | MLP/CNN Baseline | noise=1.0, 27 å®éªŒ | MLP $R^2=0.487$, CNN â‰ˆ0 | [è¯¦æƒ…](exp_mlp_baseline_20251130.md) |
| E03 | exp_nn_architecture_design_20251129.md | æ¶æ„è®¾è®¡æ–‡æ¡£ | Linear+Residual, Attention | å®éªŒè®¡åˆ’ | [è¯¦æƒ…](exp_nn_architecture_design_20251129.md) |
| img/ | img/ | å›¾è¡¨ç›®å½• | - | - | [ç›®å½•](img/) |

> è¡¨æ ¼æŒ‰é‡è¦æ€§æ’åºã€‚ç»¼åˆåˆ†ææŠ¥å‘Šæ˜¯æ ¸å¿ƒï¼ŒåŒ…å« 53 ä¸ªå®éªŒçš„å®Œæ•´ç»“æœã€‚

---

# 3. æ ¸å¿ƒå‘ç°ï¼ˆä¸­æ–‡Â·ä¸“ä¸šÂ·å‹ç¼©ï¼‰

## 3.1 å®è§‚ç»“è®º

| ç»“è®º | æ•°å€¼è¯æ® | è®¾è®¡å¯ç¤º |
|------|---------|---------|
| **MLP å¯è¶…è¶Š Ridge** | $R^2$: 0.498 vs 0.458 (+8.7%) | MLP æ˜¯åˆç†çš„ NN baseline |
| **MLP ä»å¼±äº LightGBM** | $R^2$: 0.498 vs 0.536 (-7.1%) | 32k æ•°æ®ä¸‹æ ‘æ¨¡å‹ä»æœ‰ä¼˜åŠ¿ |
| **CNN å…¨é¢å¤±è´¥** | æ‰€æœ‰ 18 ä¸ª CNN $R^2 \approx 0$ | å¯èƒ½æ˜¯å®ç°é—®é¢˜ï¼Œéœ€ä¿®å¤ |
| **æ•°æ®é‡æ˜¯å…³é”®æ æ†** | 32kâ†’100k: $R^2$ +10.6% | ä¼˜å…ˆè·å–æ›´å¤šæ•°æ® |
| **æ¶æ„æ”¹è¿›è¾¹é™…æ”¶ç›Šå°** | æ¿€æ´»/å®½åº¦/æ·±åº¦ $\Delta R^2 \leq 0.02$ | ä¸å¿…å¤§è§„æ¨¡æ‰«æ¶æ„ |

## 3.2 æ¶æ„æœ€ä½³å®è·µ

| é…ç½®é¡¹ | 32k æ•°æ®æ¨è | 100k æ•°æ®æ¨è |
|-------|-------------|---------------|
| æ¶æ„ | MLP + Residual | MLP |
| éšè—å±‚ | [256, 64] | [2048, 1024, 512] |
| æ¿€æ´»å‡½æ•° | ReLU | GELU |
| Dropout | 0.3 | 0.4 |
| Weight Decay | 0 | 1e-4 |
| å­¦ä¹ ç‡ | 0.001 | 3e-4 |
| **é¢„æœŸ $R^2$** | **0.498** | **0.551** |

## 3.3 å…³é”®æ•°å­—é€ŸæŸ¥

| æŒ‡æ ‡ | 32k æ•°æ® | 100k æ•°æ® |
|------|---------|-----------|
| æœ€ä½³ MLP $R^2$ | 0.498 (Residual) | 0.551 |
| Ridge baseline | 0.458 | - |
| LightGBM baseline | 0.536 | - |
| MLP vs Ridge | **+8.7%** | - |
| MLP vs LightGBM | **-7.1%** | - |
| æœ€ä½³æ·±åº¦ | 2-3 å±‚ | 3 å±‚ |
| CNN æœ€ä½³ | â‰ˆ0 (å¤±è´¥) | - |

---

# 4. å…³é”®å›¾è¡¨

> ä»¥ä¸‹å›¾è¡¨å»ºè®®ç»˜åˆ¶ï¼Œä½äº `img/` å­ç›®å½•ï¼š

| å›¾è¡¨ | æè¿° | çŠ¶æ€ |
|------|------|------|
| æ•°æ®é‡æ•ˆåº”å›¾ | 32k vs 100k MLP $R^2$ å¯¹æ¯” | TODO |
| æ¶æ„æ·±åº¦ vs æ€§èƒ½ | å±‚æ•° 1-4 çš„ $R^2$ æ›²çº¿ | TODO |
| Residual vs ç›´æ¥ MLP | ç›¸åŒæ¶æ„çš„å¯¹æ¯”æŸ±çŠ¶å›¾ | TODO |
| CNN è¯Šæ–­å›¾ | è®­ç»ƒæ›²çº¿ï¼ˆMLP vs CNNï¼‰ | TODO |
| TopK ç‰¹å¾æ•°é‡ vs æ€§èƒ½ | K=256/512/1024/4096 | TODO |

---

# 5. ä¸‹ä¸€æ­¥å®éªŒè®¡åˆ’

| ä¼˜å…ˆçº§ | æ–¹å‘ | å…·ä½“ä»»åŠ¡ | é¢„æœŸæ”¶ç›Š |
|--------|------|----------|----------|
| **P0** | å…¬å¹³æ¯”è¾ƒ | 100k æ•°æ®é‡æ–°è®­ç»ƒ Ridge/LightGBM | ç¡®å®š NN æ˜¯å¦çœŸæ­£è¶…è¶Šæ ‘æ¨¡å‹ |
| **P0** | ä¿®å¤ CNN | Sanity check (noise=0, toy target) | æ’é™¤å®ç°é—®é¢˜ |
| **P1** | Residual LightGBM | MLP å­¦ä¹  LightGBM æ®‹å·® | å¯èƒ½ +1-2% |
| **P1** | TopK + window | å– TopK é‚»åŸŸçª—å£ (Â±8) | ç»“åˆé™ç»´å’Œä¸Šä¸‹æ–‡ |
| **P1** | åŒé€šé“è¾“å…¥ | [flux, error] åŒé€šé“ | Error å®éªŒæ˜¾ç¤ºæœ‰é¢å¤–ä¿¡æ¯ |
| **P2** | æƒé‡åˆ†æ | åˆ†æ MLP ç¬¬ä¸€å±‚æƒé‡ | æŒ‡å¯¼ä¸‹ä¸€ä»£æ¶æ„ |

---

# 6. é™„å½•ï¼šæ‰€æœ‰å­å®éªŒç´¢å¼•

## 6.1 å®Œæ•´å®éªŒåˆ—è¡¨

| æ–‡ä»¶ | æ—¥æœŸ | ä¸»é¢˜ | å®éªŒæ•° | çŠ¶æ€ |
|------|------|------|--------|------|
| [exp_nn_comprehensive_analysis_20251130.md](exp_nn_comprehensive_analysis_20251130.md) | 2025-11-30 | 53 å®éªŒç»¼åˆåˆ†æ | 53 | âœ… å®Œæˆ |
| [exp_mlp_baseline_20251130.md](exp_mlp_baseline_20251130.md) | 2025-11-30 | MLP/CNN Baseline | 27 | âœ… å®Œæˆ |
| [exp_nn_architecture_design_20251129.md](exp_nn_architecture_design_20251129.md) | 2025-11-29 | æ¶æ„è®¾è®¡è§„åˆ’ | - | ğŸ“‹ ä¼åˆ’ |

## 6.2 ç›¸å…³å¤–éƒ¨æ–‡ä»¶

| ç±»å‹ | è·¯å¾„ |
|------|------|
| ç»“æœ CSV | `/home/swei20/VIT/results/nn_baselines/nn_vs_ml_results.csv` |
| å®éªŒè„šæœ¬ | `/home/swei20/VIT/scripts/run_nn_baselines.py` |
| æ¨¡å‹å®šä¹‰ | `/home/swei20/VIT/src/nn/models/` |
| VIT æ–‡æ¡£ | `/home/swei20/VIT/docs/NN_BASELINE_EXPERIMENTS.md` |

## 6.3 ä¸å…¶ä»–ç›®å½•çš„å…³è”

| ç›®å½• | å…³è”ä¸»é¢˜ | é“¾æ¥ |
|------|----------|------|
| `ridge/` | Ridge baseline å¯¹æ¯” | [ridge_main](../ridge/ridge_main_20251130.md) |
| `lightgbm/` | LightGBM baseline å¯¹æ¯” | [lightgbm_main](../lightgbm/lightgbm_main_20251130.md) |
| `pca/` | PCA é™ç»´æŒ‡å¯¼ NN bottleneck | [pca_main](../pca/pca_main_20251130.md) |
| `noise/` | TopK ç‰¹å¾é€‰æ‹© | [noise_main](../noise/noise_main_20251130.md) |

---

*æœ€åæ›´æ–°: 2025-11-30*  
*æ€»å®éªŒæ•°: 53 ä¸ª MLP + 18 ä¸ª CNN*  
*æ ¸å¿ƒå‘ç°: Residual MLP æ˜¯ 32k æ•°æ®ä¸‹çš„ MLP SOTA ($R^2 \approx 0.50$)*

