# ğŸ’¬ GPT è®¾è®¡ä¼šè¯å½’æ¡£ - Distill ç ”ç©¶æ–¹å‘åˆå§‹åŒ–

---
> **ä¼šè¯ IDï¼š** `session-20251130-distill-latent-probe`  
> **æ—¥æœŸï¼š** 2025-11-30  
> **å‚ä¸ï¼š** Viska + GPT/Claude  
> **å…³è” mainï¼š** [distill_main_20251130.md](../distill_main_20251130.md)  
> **çŠ¶æ€ï¼š** âœ… å·²å½’æ¡£ï¼ˆPhase 1 å®Œæˆï¼‰

---

# 1. ğŸ¯ èµ·ç‚¹ï¼šé—®é¢˜ & åŠ¨æœº

## 1.1 åŸå§‹åŠ¨æœº

> **ä¸ºä»€ä¹ˆå¼€å§‹è¿™ä¸ªç ”ç©¶æ–¹å‘ï¼Ÿ**

- **èƒŒæ™¯**ï¼šå·²æœ‰è®­ç»ƒå¥½çš„ BlindSpot Denoiser è‡ªç¼–ç å™¨ï¼Œå…¶ latent è¡¨ç¤ºå¯èƒ½åŒ…å«æœ‰ç”¨ä¿¡æ¯
- **æ ¸å¿ƒé—®é¢˜**ï¼šDenoiser çš„ latent è¡¨ç¤ºæ˜¯å¦æ¯”åŸå§‹å…‰è°±æ›´é€‚åˆä½œä¸º $\log g$ çš„ç‰¹å¾ï¼Ÿ
- **ç›®æ ‡**ï¼šå¦‚æœ latent æœ‰ç”¨ï¼Œèƒ½å¦é€šè¿‡ Teacher-Student è’¸é¦å°†ä¼˜åŠ¿è¿ç§»åˆ°åªçœ‹ flux çš„æ¨¡å‹ï¼Ÿ

## 1.2 GPT å¯¹è¯ä¸­çš„å…³é”®æ‘˜å½•

### ğŸ’ å…³é”®æ´è§ 1

> "BlindSpot Denoiser åœ¨è®­ç»ƒæ—¶çœ‹åˆ°äº† noisy flux + per-pixel errorï¼Œè¿™æ„å‘³ç€ latent å¯èƒ½ç¼–ç äº†æ¯”åŸå§‹ flux æ›´ä¸°å¯Œçš„ä¿¡æ¯ã€‚"

**å¯å‘**ï¼šå€¼å¾—æ¢ç´¢ latent â†’ $\log g$ çš„é¢„æµ‹èƒ½åŠ›

### ğŸ’ å…³é”®æ´è§ 2

> "å…ˆç”¨ Linear Probe æ£€éªŒ latent çš„ä¿¡æ¯é‡ï¼Œè¿™æ˜¯æœ€ç®€å•çš„éªŒè¯æ–¹å¼ã€‚"

**å¯å‘**ï¼šMVP 1.1 åº”è¯¥æ˜¯ Linear Probe

### âš ï¸ éœ€è¦è­¦æƒ•çš„å‡è®¾

> "Teacher latent çœ‹åˆ° error é€šé“ï¼Œå¯èƒ½å­˜åœ¨ label leakage"

**é£é™©**ï¼šerror å¯èƒ½ç›´æ¥ç¼–ç äº† $\log g$ ä¿¡æ¯ï¼ˆåç»­åœ¨ Stage A éªŒè¯ï¼‰

---

# 2. ğŸ’¡ MVP å€™é€‰åˆ—è¡¨

| MVP ID | ä¸€å¥è¯ç›®æ ‡ | è¦éªŒè¯çš„å‡è®¾/é—®é¢˜ | ç²—ç•¥å®éªŒæƒ³æ³• | é¢„ä¼°å¤æ‚åº¦ |
|--------|------------|-------------------|--------------|-----------|
| MVP-1.1 | Linear Probe | Latent æ˜¯å¦çº¿æ€§ç¼–ç  $\log g$ï¼Ÿ | Ridge å›å½’ | ğŸŸ¢ ç®€å• |
| MVP-1.2 | å™ªå£°é²æ£’æ€§ | Latent æ˜¯å¦æ›´æŠ—å™ªï¼Ÿ | å¤š noise çº§åˆ«æµ‹è¯• | ğŸŸ¢ ç®€å• |
| MVP-1.3 | ç»´åº¦æ‰«æ | $\log g$ ä¿¡æ¯é›†ä¸­åº¦ï¼Ÿ | PCA é™ç»´å®éªŒ | ğŸŸ¢ ç®€å• |
| MVP-1.4 | æå–æ–¹å¼ä¼˜åŒ– | Mean pooling æ˜¯å¦ä¸¢å¤±ä¿¡æ¯ï¼Ÿ | å¤šå±‚+å¤š pooling æµ‹è¯• | ğŸŸ¡ ä¸­ç­‰ |
| MVP-2.1 | Student è’¸é¦ | èƒ½å¦æ‹Ÿåˆ Teacher latentï¼Ÿ | MLP è’¸é¦ | ğŸŸ¡ ä¸­ç­‰ |
| MVP-2.2 | Student â†’ $\log g$ | Student æ˜¯å¦ä¿ç•™ä¿¡æ¯ï¼Ÿ | MLP head | ğŸŸ¡ ä¸­ç­‰ |

---

# 3. âœ… é€‰æ‹©è¦æ‰§è¡Œçš„å®éªŒ

## 3.1 æœ¬è½®å†³ç­–

| å†³ç­– | MVP | ç†ç”± |
|------|-----|------|
| âœ… **ç«‹åˆ»æ‰§è¡Œ** | MVP-1.1 | æœ€åŸºç¡€çš„éªŒè¯ |
| âœ… **ç«‹åˆ»æ‰§è¡Œ** | MVP-1.1b | åŠ å…¥ LightGBM éçº¿æ€§æµ‹è¯• |
| ğŸ•’ **ä¸‹ä¸€æ­¥** | MVP-1.4 | å¦‚æœ 1.1 è¡¨ç°ä¸ä½³ï¼Œæ£€æŸ¥æå–æ–¹å¼ |
| ğŸ•’ **ä»¥åå†è¯´** | MVP-2.x | ç­‰ Stage 1 å®Œæˆ |

## 3.2 ç”Ÿæˆ experiment_id

| experiment_id | MVP | ä¼˜å…ˆçº§ | é¢„ä¼°æ—¶é—´ | å¤‡æ³¨ |
|---------------|-----|--------|---------|------|
| `BS-20251130-distill-probe-01` | MVP-1.1 | ğŸ”´ P0 | ~2h | Linear Probe baseline |

---

# 4. ğŸ“ å®éªŒç»“æœæ±‡æ€»

## 4.1 MVP-1.1 ç»“æœ

**çŠ¶æ€**ï¼šâœ… å·²å®Œæˆ

**å…³é”®å‘ç°**ï¼š
- $T_{\text{eff}}$ Ridge $R^2$ = **0.9702** â­
- [M/H] Ridge $R^2$ = **0.9444** â­
- $\log g$ Ridge $R^2$ = **0.2192** âš ï¸ çº¿æ€§ä¿¡å·å¼±
- $\log g$ LightGBM $R^2$ = **0.2830** (+29%)

**ç»“è®º**ï¼š
- âœ… Latent å¼ºç¼–ç å…¨å±€å‚æ•°
- âš ï¸ $\log g$ éœ€è¦éçº¿æ€§æ–¹æ³•
- âš ï¸ å¯èƒ½éœ€è¦æ”¹è¿›æå–æ–¹å¼

**è¯¦ç»†æŠ¥å‘Š**ï¼š[exp_linear_probe_latent_20251130.md](../exp_linear_probe_latent_20251130.md)

---

# 5. ğŸ“‹ åç»­è¡ŒåŠ¨

## 5.1 å·²æ‰§è¡Œçš„ä¸‹ä¸€æ­¥

åŸºäº MVP-1.1 ç»“æœï¼Œæ‰§è¡Œäº†ï¼š

1. âœ… **MVP-1.4**ï¼šLatent æå–æ–¹å¼ä¼˜åŒ–
   - ç»“æœï¼š$R^2 = 0.5516$ (+150%)
   - æœ€ä½³é…ç½®ï¼š`enc_pre_latent + seg_mean_K8`
   - æŠ¥å‘Šï¼š[exp_latent_extraction_logg_20251201.md](../exp_latent_extraction_logg_20251201.md)

2. âœ… **MVP-2.2**ï¼šEncoder + NN è®­ç»ƒ
   - ç»“æœï¼š$R^2 = 0.6117$ (+10.9% vs Ridge)
   - æŠ¥å‘Šï¼š[exp_encoder_nn_logg_20251201.md](../exp_encoder_nn_logg_20251201.md)

## 5.2 å¾…æ‰§è¡Œ

- [ ] **Stage A**ï¼šError æ·å¾„é—®é¢˜åˆ†æ
- [ ] **MVP-2.3**ï¼šFine-tune encoder
- [ ] **MVP-2.1**ï¼šStudent è’¸é¦

---

# ğŸ“ ä¼šè¯å…ƒæ•°æ®

| å­—æ®µ | å€¼ |
|------|-----|
| **GPT æ¨¡å‹** | GPT-4o / Claude |
| **ä¼šè¯ä¸»é¢˜æ ‡ç­¾** | `#distill` `#latent` `#probe` |

---

*åˆ›å»ºæ—¶é—´: 2025-11-30*  
*æ›´æ–°æ—¶é—´: 2025-12-01*

