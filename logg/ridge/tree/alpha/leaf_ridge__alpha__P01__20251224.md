# ğŸƒ Ridge/Alpha/P01 Leaf
> **Name:** æ¶ˆæ­§ noise=0.2 æ•°æ®ä¸€è‡´æ€§ | **ID:** `L-RIDGE-ALPHA-P01`  
> **Topic:** `ridge` | **Branch:** `alpha` | **Type:** PATCH  
> **Author:** Viska Wei | **Date:** 2025-12-24 | **Status:** ğŸ§ª Plan
```
ğŸ’¡ ç»Ÿä¸€ data_version åï¼Œ32k åœ¨ noise=0.2 çš„ RÂ² æ˜¯å¦ä¸ 100k ä¸€è‡´ï¼Ÿ  
å‡è®¾ï¼šå·®å¼‚æ¥è‡ª data_version/split_seedï¼Œç»Ÿä¸€åå·®å¼‚åº” <1%
```

---

## ğŸ”— Tree Links
| Type | Path |
|------|------|
| ğŸŒ¿ Branch | [`branch_ridge__alpha.md`](./branch_ridge__alpha.md) |
| patch_of | L-RIDGE-ALPHA-A (leaf_A) |
| patch_reason | æ•°æ®ä¸ä¸€è‡´ - leaf_A vs leaf_B åœ¨ noise=0.2 ç»“æœå†²çª |

---

## âš¡ Leaf Summary

### MVP Spec
| Item | Value |
|------|-------|
| å˜é‡ | noise=0.2, Î±=[1, 10, 100] |
| å¯¹ç…§ | leaf_B çš„ 100k ç»“æœ (RÂ²=0.841) |
| æ ·æœ¬é‡ | 32k è®­ç»ƒ, 1k æµ‹è¯• |
| é¢„ç®—ä¸Šé™ | <5åˆ†é’Ÿ |

### Stop Rule
| Outcome | Condition | Action |
|---------|-----------|--------|
| æˆåŠŸ | \|RÂ²_32k - RÂ²_100k\| < 1% | æ¶ˆæ­§æˆåŠŸ |
| å¤±è´¥ | å·®å¼‚ä» >1% | æ·±å…¥åˆ†æ |

### Key Result
> (å¾…å¡«å†™)

### Decision
> (å¾…å¡«å†™) â†’ NEXT: ...

---

## ğŸ“Š Config

### Data Config
| é¡¹ç›® | å€¼ |
|------|-----|
| train_size | 32,000 |
| test_size | 1,000 |
| noise_levels | [0.2] |
| data_version | **v1 (ä¸ leaf_B ç›¸åŒ)** |
| split_seed | **ä¸ leaf_B ç›¸åŒ** |

### Model Config
| é¡¹ç›® | å€¼ |
|------|-----|
| model | sklearn.linear_model.Ridge |
| Î± | [1, 10, 100] |
> | å…¶ä»–è¶…å‚ | - |
>
> **SEED/REPEATS:** single run
>
> **COMMAND/SCRIPT:**
> ```bash
> # ä½¿ç”¨ä¸ leaf_B å®Œå…¨ç›¸åŒçš„æ•°æ®åŠ è½½é€»è¾‘
> cd ~/VIT && source init.sh
> python scripts/ridge_patch_consistency.py \
>     --train_size 32000 \
>     --noise_level 0.2 \
>     --alpha_list 1,10,100 \
>     --use_leaf_b_data_config
> ```
>
> **OUTPUT ARTIFACTS:**
> | ç±»å‹ | è·¯å¾„ |
> |------|------|
> | csv | `~/VIT/results/ridge_patch_p01/results.csv` |
> | log | `~/VIT/results/ridge_patch_p01/consistency_check.log` |

---

## 1. ğŸ¯ èƒŒæ™¯ä¸åŠ¨æœºï¼ˆçŸ­ï¼‰

### 1.1 ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªå®éªŒï¼Ÿ
åœ¨ grow å®¡æŸ¥æ—¶å‘ç° leaf_A å’Œ leaf_B åœ¨ noise=0.2 çš„ç»“è®ºä¸ä¸€è‡´ï¼š
- leaf_A (32k): RÂ² = 0.826
- leaf_B (100k): RÂ² = 0.841

å·®å¼‚ +1.8% è¶…è¿‡é¢„æœŸï¼Œå¯èƒ½åŸå› ï¼š
1. data_version ä¸åŒ
2. split_seed ä¸åŒ
3. çœŸå®çš„æ•°æ®é‡å¢ç›Š

éœ€è¦æ¶ˆæ­§ä»¥ç¡®ä¿ç»“è®ºå¯é ã€‚

### 1.2 ä¸ä¸Šæ¸¸çš„å…³ç³»
- æ¥è‡ª branch: alpha
- patch_of: leaf_A
- ç›®çš„: æ¶ˆæ­§å†²çª

---

## 2. ğŸ§ª å®éªŒè®¾è®¡

### 2.1 æ¶ˆæ­§ç­–ç•¥
ä½¿ç”¨ leaf_B çš„ **å®Œå…¨ç›¸åŒ** æ•°æ®é…ç½®ï¼ˆdata_version, split_seedï¼‰ï¼Œ
åªæ”¹å˜ train_size ä» 100k â†’ 32kï¼ŒéªŒè¯å·®å¼‚æ˜¯å¦æ¶ˆå¤±ã€‚

### 2.2 å˜é‡ä¸å¯¹ç…§
| ç±»å‹ | å˜é‡å | å–å€¼ | è¯´æ˜ |
|------|--------|------|------|
| è‡ªå˜é‡ | train_size | 32k | ä» leaf_B å­é‡‡æ · |
| æ§åˆ¶å˜é‡ | noise_level | 0.2 | å›ºå®š |
| æ§åˆ¶å˜é‡ | data_version | v1 | ä¸ leaf_B ç›¸åŒ |
| æ§åˆ¶å˜é‡ | split_seed | (leaf_B) | ä¸ leaf_B ç›¸åŒ |
| å¯¹ç…§ | leaf_B ç»“æœ | RÂ²=0.841 | 100k baseline |

### 2.3 é¢„æœŸç»“æœ
| åœºæ™¯ | é¢„æœŸ RÂ² | ä¸ leaf_B å·®å¼‚ | ç»“è®º |
|------|---------|---------------|------|
| æ•°æ®ç‰ˆæœ¬æ˜¯åŸå›  | ~0.84 | <1% | âœ… æ¶ˆæ­§æˆåŠŸ |
| æ•°æ®é‡æ˜¯çœŸå®å½±å“ | ~0.82 | ~2% | âš ï¸ éœ€è®°å½•ä¸ºçœŸå®å·®å¼‚ |

---

## 3. ğŸ“Š ç»“æœ

### 3.1 ä¸»è¦ç»“æœè¡¨
(å¾…å®éªŒå®Œæˆåå¡«å†™)

| Î± | RÂ² (P01) | RÂ² (leaf_B) | å·®å¼‚ | å¤‡æ³¨ |
|---|----------|-------------|------|------|
| 1 | - | 0.839 | - | |
| 10 | - | **0.841** | - | best |
| 100 | - | 0.810 | - | |

### 3.2 æ¶ˆæ­§åˆ¤å®š
(å¾…å¡«å†™)

---

## 4. ğŸ’¡ åˆ†æ

### 4.1 ç»“è®º
(å¾…å¡«å†™)

### 4.2 å¯¹ branch çš„å½±å“
(å¾…å¡«å†™)

---

## 5. ğŸ“ ç»“è®ºä¸ä¸‹ä¸€æ­¥

### 5.1 æ¶ˆæ­§ç»“æœ
| åŸå‡è®¾ | éªŒè¯ç»“æœ | åç»­åŠ¨ä½œ |
|--------|---------|---------|
| data_version å¯¼è‡´å·®å¼‚ | âœ…/âŒ | æ›´æ–° branch ç»“è®º / æ·±å…¥åˆ†æ |

### 5.2 ç»™ grow çš„å»ºè®®
(å¾…å¡«å†™)

---

## 6. ğŸ“ é™„å½•

### 6.1 æ•°æ®é…ç½®å¯¹æ¯”

| é…ç½®é¡¹ | leaf_A (åŸ) | leaf_B | P01 (æœ¬å®éªŒ) |
|--------|-------------|--------|--------------|
| train_size | 32k | 100k | 32k |
| test_size | ~1k | 1k | 1k |
| data_version | v1(?) | v1 | v1 (ä¸Bç›¸åŒ) |
| split_seed | default | ? | (ä¸Bç›¸åŒ) |
| noise | 0.2 | 0.2 | 0.2 |

### 6.2 æ£€æŸ¥æ¸…å•
- [ ] ç¡®è®¤ leaf_B çš„ data_version
- [ ] ç¡®è®¤ leaf_B çš„ split_seed
- [ ] ä½¿ç”¨ç›¸åŒçš„æ•°æ®åŠ è½½ä»£ç 
- [ ] è®°å½•å®Œæ•´é…ç½®åˆ° log

---

*åˆ›å»ºæ—¥æœŸ: 2025-12-24 (ç”± grow ç”Ÿæˆ)*
*çŠ¶æ€: ğŸ§ªPlan - å¾…æ‰§è¡Œ*

