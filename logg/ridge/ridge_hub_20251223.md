# ğŸ§  Ridge Knowledge Hub

> **Topic:** Ridge Regression for log_g Prediction  
> **Author:** Viska Wei  
> **Created:** 2025-11-27 | **Updated:** 2025-12-23  
> **Status:** âœ… Stable

## ğŸ”— Related Files

| Type | File | Description |
|------|------|-------------|
| ğŸ“ Roadmap | [`ridge_roadmap_20251223.md`](./ridge_roadmap_20251223.md) | Experiment planning & tracking |
| ğŸ“— Experiments | `exp/*.md` | Detailed reports |
| ğŸ“— 1M Scaling | [`exp_scaling_ml_ceiling_20251222.md`](../scaling/exp/exp_scaling_ml_ceiling_20251222.md) | 1M Ridge å¤©èŠ±æ¿å®éªŒ |
| ğŸ“„ Main (Legacy) | [`ridge_main_20251130.md`](./ridge_main_20251130.md) | Original summary |

## ğŸ“‘ Contents

- [1. ğŸŒ² Question Tree](#1--question-tree)
- [2. ğŸ¯ Answer Key + Strategic Route](#2--answer-key--strategic-route)
- [3. ğŸ’¡ Insight Confluence](#3--insight-confluence)
- [4. ğŸ“ Design Principles](#4--design-principles)
- [5. ğŸ“ Appendix](#5--appendix)

---

# 1. ğŸŒ² Question Tree

> **Hierarchical structure of research questions and boundaries**

## 1.1 Top-Level Question

> **log_g-flux æ˜ å°„æ˜¯å¦æœ¬è´¨çº¿æ€§ï¼Ÿæ­£åˆ™åŒ–åœ¨å…¶ä¸­æ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿ**

è¿™ä¸ªé—®é¢˜å†³å®šäº†ï¼š
- **NN æ¶æ„é€‰æ‹©**ï¼šå¦‚æœæ˜ å°„æœ¬è´¨çº¿æ€§ï¼ŒNN çš„ä¸»è¦ä»»åŠ¡æ˜¯"ä¿¡æ¯è¿‡æ»¤"è€Œé"éçº¿æ€§æå–"
- **æ­£åˆ™åŒ–ç­–ç•¥**ï¼šæœ€ä¼˜ Î± ä¸å™ªå£°çš„å…³ç³»æ­ç¤ºäº†"éœ€è¦åˆ é™¤å¤šå°‘æ— å…³ä¿¡æ¯"
- **Linear shortcut çš„å¿…è¦æ€§**ï¼šå¦‚æœçº¿æ€§æ¨¡å‹å·²æ¥è¿‘ä¸Šé™ï¼ŒNN åº”åŒ…å« linear shortcut

## 1.2 Question Decomposition

```
ğŸ¯ Top-Level: log_g-flux æ˜ å°„æ˜¯å¦æœ¬è´¨çº¿æ€§ï¼Ÿæ­£åˆ™åŒ–çš„ä½œç”¨ï¼Ÿ
â”‚
â”œâ”€â”€ A) Learning Curve: data-limited è¿˜æ˜¯ model-limitedï¼Ÿ
â”‚   â”œâ”€â”€ A.1: 100k vs 32k Ridge å¢ç›Šå¤šå¤§ï¼Ÿ â†’ âœ… ä»… +2.71% [exp_100k]
â”‚   â”œâ”€â”€ A.2: 1M vs 100k Ridge å¢ç›Šå¤šå¤§ï¼Ÿ â†’ âœ… ä»… +2.44% [exp_ml_ceiling]
â”‚   â””â”€â”€ A.3: é«˜å™ªå£°ä¸‹æ•°æ®é‡å½±å“ï¼Ÿ â†’ âœ… å¢ç›Šæ›´å¤§ä½†ä»æœ‰é™ [exp_100k]
â”‚
â”œâ”€â”€ B) Regularization Î±: Î± åœ¨æµ‹ä»€ä¹ˆï¼Ÿ
â”‚   â”œâ”€â”€ B.1: æœ€ä¼˜ Î± å¦‚ä½•éšå™ªå£°å˜åŒ–ï¼Ÿ â†’ âœ… å•è°ƒå¢å¤§ 6 ä¸ªæ•°é‡çº§ [exp_alpha_sweep]
â”‚   â”œâ”€â”€ B.2: å›ºå®š Î± ç­–ç•¥æ˜¯å¦å¯è¡Œï¼Ÿ â†’ âŒ ä¸å¯è¡Œ [exp_alpha_sweep]
â”‚   â””â”€â”€ B.3: å¤§æ ·æœ¬ä¸‹æœ€ä¼˜ Î± å¦‚ä½•å˜åŒ–ï¼Ÿ â†’ âœ… Î± âˆ æ•°æ®é‡ [exp_scaling]
â”‚
â”œâ”€â”€ C) Transfer Stability: noise=0 èƒ½å¦ä½œä¸ºæŒ‡å—ï¼Ÿ
â”‚   â”œâ”€â”€ C.1: ç‰¹å¾é‡è¦æ€§å¯¹ Î± æ•æ„Ÿå—ï¼Ÿ â†’ âŒ ä¸æ•æ„Ÿï¼ˆç›¸å…³>0.85ï¼‰[exp_stability]
â”‚   â”œâ”€â”€ C.2: noise=0 çš„ç‰¹å¾èƒ½è¿ç§»å—ï¼Ÿ â†’ âŒ ä¸èƒ½ï¼Œæ˜¯"å­¤å²›" [exp_stability]
â”‚   â””â”€â”€ C.3: é«˜å™ªå£°ä¸‹ç‰¹å¾æ˜¯å¦ç¨³å®šï¼Ÿ â†’ âœ… é«˜åº¦ç¨³å®šï¼ˆç›¸å…³>0.95ï¼‰[exp_stability]
â”‚
â”œâ”€â”€ D) Sigma Channel: Error Ïƒ æ˜¯ä¿¡æ¯è¿˜æ˜¯æ·å¾„ï¼Ÿ
â”‚   â”œâ”€â”€ D.1: Error Ïƒ èƒ½å¦é¢„æµ‹ log_gï¼Ÿ â†’ âœ… LightGBM RÂ²=0.91 [exp_error]
â”‚   â”œâ”€â”€ D.2: Error-log_g å…³ç³»æ˜¯çº¿æ€§è¿˜æ˜¯éçº¿æ€§ï¼Ÿ â†’ âœ… éçº¿æ€§ [exp_error]
â”‚   â””â”€â”€ D.3: Error ä¿¡æ¯ä»ä½•è€Œæ¥ï¼Ÿ â†’ ğŸ”„ ç‰©ç†å…³è” vs æ•°æ®åå·®å¾…éªŒè¯
â”‚
â””â”€â”€ E) Performance Ceiling: Ridge çš„ä¸Šé™æ˜¯ä»€ä¹ˆï¼Ÿ
    â”œâ”€â”€ E.1: noise=0 æ—¶çº¿æ€§æ¨¡å‹èƒ½è¾¾åˆ°ä»€ä¹ˆæ€§èƒ½ï¼Ÿ â†’ âœ… RÂ²=0.999 [exp_alpha_sweep]
    â”œâ”€â”€ E.2: noise=1 æ—¶ Ridge å¤©èŠ±æ¿æ˜¯å¤šå°‘ï¼Ÿ â†’ âœ… RÂ²â‰ˆ0.50 [exp_ml_ceiling]
    â””â”€â”€ E.3: ä¿¡æ¯è®ºä¸Šé™æ˜¯å¤šå°‘ï¼Ÿ â†’ ğŸ”„ å¾…éªŒè¯ï¼ˆFisher åˆ†æï¼‰

Legend: âœ… Verified | âŒ Rejected | ğŸ”„ In Progress | â³ Pending | ğŸš« Closed
```

## 1.3 Scope Boundaries

| âœ… In Scope | âŒ Out of Scope |
|------------|----------------|
| Ridge å›å½’ baseline å»ºç«‹ | éçº¿æ€§æ¨¡å‹ (LightGBM, NN) è¯¦ç»†åˆ†æ |
| Î± ä¸å™ªå£°çš„å…³ç³» | å…¶ä»–æ’æ˜Ÿå‚æ•° (T_eff, [Fe/H]) |
| ç‰¹å¾é‡è¦æ€§ç¨³å®šæ€§ | å¤æ‚ç‰¹å¾å·¥ç¨‹ |
| Error é€šé“ä¿¡æ¯é‡ | ç«¯åˆ°ç«¯ NN è®­ç»ƒ |
| 32k-1M æ•°æ®é‡å½±å“ | è¶…å¤§è§„æ¨¡ (>1M) æ•°æ® |

---

# 2. ğŸ¯ Answer Key + Strategic Route

> **Â§1 æå‡ºé—®é¢˜ï¼ŒÂ§2 ç»™å‡ºå½“å‰ç­”æ¡ˆ + æˆ˜ç•¥æ¨è**
>
> âš ï¸ **èŒè´£è¾¹ç•Œ**: åªå›ç­”"çŸ¥é“ä»€ä¹ˆã€è¯¥å¾€å“ªèµ°"ï¼ŒéªŒè¯è®¡åˆ’è§ [Roadmap Â§1](./ridge_roadmap_20251223.md#1--decision-gates)

## 2.0 Strategic Route Recommendation

> **åŸºäºå½“å‰è¯æ®çš„æˆ˜ç•¥æ¨è**

**æ¨èè·¯çº¿ï¼šRoute M (Representation/Model)**

| Route | è·¯çº¿åç§° | å½“å‰å€¾å‘ | å…³é”®ç†ç”± |
|-------|---------|---------|---------|
| Route I | Information Ceiling | ğŸŸ¡ å¾…éªŒè¯ | éœ€è¦ Fisher sanity check ç¡®è®¤ä¸Šé™ |
| **Route M** | Representation / Model | ğŸŸ¢ **æ¨è** | æ–œç‡â‰ˆ0 è¯´æ˜ä¸æ˜¯ data-limitedï¼›Î± è§„å¾‹è¯´æ˜ç›²è¿‡æ»¤ä¸å¤Ÿ |
| Route S | Sigma Channel | ğŸŸ¡ é«˜é£é™© | Ïƒ é€šé“å¼ºä½†å¯èƒ½æ˜¯æ·å¾„ï¼Œéœ€è¦å®¡è®¡ |

> ğŸ“‹ **éªŒè¯è®¡åˆ’**è§ [Roadmap Â§1 Decision Gates](./ridge_roadmap_20251223.md#1--decision-gates)

---

## 2.1 Answer Key to Question Tree

### A) Learning Curve (data-limited è¿˜æ˜¯ model-limitedï¼Ÿ)

| Item | Content |
|------|---------|
| **Current Answer** | å­¦ä¹ æ›²çº¿å·²æ˜æ˜¾å˜å¹³ï¼›32kâ†’100k åªæœ‰ +2.71%ï¼Œ100kâ†’1M åœ¨ noise=1 åªæœ‰ +2.44%ã€‚1M + noise=1 ä»å¡åœ¨ RÂ²â‰ˆ0.50ã€‚ |
| **Implication** | **ä¸ä¼˜å…ˆç»§ç»­"å †æ•°æ®"**ï¼Œæ›´åƒæ˜¯ **representation/model-limited**ã€‚â†’ å€¾å‘ **Route M** |
| **Confidence** | ğŸŸ¢ High |
| **Evidence** | exp_100k, exp_ml_ceiling |

### B) Regularization Î± (Î± åœ¨æµ‹ä»€ä¹ˆï¼Ÿ)

| Item | Content |
|------|---------|
| **Current Answer** | Î±_opt éšå™ªå£°è·¨ **6 ä¸ªæ•°é‡çº§**å•è°ƒä¸Šå‡ï¼ˆ0.001 â†’ 1000ï¼‰ï¼›å¤§æ ·æœ¬ä¸‹ Î± ä¹Ÿæ›´å¤§ã€‚|
| **Implication** | é«˜å™ªå£°ä¸‹"æœ‰æ•ˆå¯ç”¨ç»´åº¦"å¡Œç¼©ï¼ŒRidge çš„"ç›²æ”¶ç¼©"ä¸å¤Ÿèªæ˜ã€‚â†’ **Route M**ï¼ˆé€‰æ‹©æ€§è¿‡æ»¤/SNR-awareï¼‰æ›´å€¼é’± |
| **Confidence** | ğŸŸ¢ High |
| **Evidence** | exp_alpha_sweep, exp_scaling |

### C) Transfer Stability (noise=0 èƒ½å¦ä½œä¸ºæŒ‡å—ï¼Ÿ)

| Item | Content |
|------|---------|
| **Current Answer** | noise=0 ä¸æœ‰å™ªå£°çš„é‡è¦æ€§/ç»“æ„ç›¸å…³æ€§å¾ˆä½ï¼ˆÏ < 0.1ï¼‰ï¼Œè€Œé«˜å™ªå£°ä¹‹é—´é«˜åº¦ç¨³å®šï¼ˆÏ > 0.95ï¼‰|
| **Implication** | **ä¸è¦ç”¨ noise=0 é©±åŠ¨ç‰¹å¾é€‰æ‹©/è¡¨å¾å­¦ä¹ **ï¼›è®­ç»ƒä¸åˆ†æè¦è´´ç€ç›®æ ‡ noise=1 |
| **Confidence** | ğŸŸ¢ High |
| **Evidence** | exp_stability, exp_topk |

### D) Sigma Channel (Error Ïƒ æ˜¯ä¿¡æ¯è¿˜æ˜¯æ·å¾„ï¼Ÿ)

| Item | Content |
|------|---------|
| **Current Answer** | error-only ç”¨ LightGBM å¯åˆ° **RÂ²â‰ˆ0.91**ï¼Œä½†çº¿æ€§å‡ ä¹æ— æ•ˆ â†’ å¼ºéçº¿æ€§å…³ç³» |
| **Implication** | Ïƒ é€šé“æå¼ºï¼Œä½†å¯èƒ½æ˜¯ **ç‰©ç†ä¿¡æ¯** æˆ– **æ•°æ®ç”Ÿæˆ/é‡‡æ ·æ·å¾„**ã€‚â†’ **Route S**"é«˜æ”¶ç›Šé«˜é£é™©"ï¼Œå¿…é¡»å…ˆå®¡è®¡ |
| **Confidence** | ğŸŸ¡ Mediumï¼ˆéœ€è¦å®¡è®¡ï¼‰|
| **Evidence** | exp_error |

### E) Performance Ceiling (Ridge çš„ä¸Šé™æ˜¯ä»€ä¹ˆï¼Ÿ)

| Item | Content |
|------|---------|
| **Current Answer** | noise=0 æ—¶ RÂ²=0.999ï¼›noise=1 æ—¶ Ridge å¤©èŠ±æ¿ RÂ²â‰ˆ0.50ï¼›å³ä½¿ 1M æ•°æ®ä¹Ÿæ— æ³•çªç ´ |
| **Implication** | Ridge æœ‰æ˜ç¡®ä¸Šé™ï¼Œéœ€è¦æ›´å¼ºçš„æ¨¡å‹æ‰èƒ½è¶…è¶Šã€‚ä½†éœ€è¦å…ˆç¡®è®¤ä¿¡æ¯è®ºä¸Šé™ï¼Œå†³å®šæ˜¯æŠ• **Route I** è¿˜æ˜¯ **Route M** |
| **Confidence** | ğŸŸ¢ High (Ridge å¤©èŠ±æ¿), ğŸŸ¡ Medium (ä¿¡æ¯ä¸Šé™å¾…éªŒè¯) |
| **Evidence** | exp_alpha_sweep, exp_ml_ceiling |

---

## 2.2 Route Decision Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å½“å‰è¯æ®æŒ‡å‘                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ğŸ“Š A) Learning Curve: æ–œç‡â‰ˆ0 â”€â”€â”€â”€â”€â”€â”€â–º ä¸æ˜¯ data-limited       â”‚
â”‚   ğŸ“Š B) Î± è§„å¾‹: è·¨ 6 æ•°é‡çº§ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Ridge ç›²è¿‡æ»¤ä¸å¤Ÿèªæ˜     â”‚
â”‚   ğŸ“Š C) noise=0 æ˜¯å­¤å²› â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º è®­ç»ƒè¦è´´ç›®æ ‡å™ªå£°        â”‚
â”‚   ğŸ“Š D) Ïƒ é€šé“ RÂ²=0.91 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º é«˜æ”¶ç›Šä½†éœ€å®¡è®¡          â”‚
â”‚   ğŸ“Š E) Ridge å¤©èŠ±æ¿ RÂ²=0.50 â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º æœ‰æå‡ç©ºé—´ï¼ˆå¦‚æœä¸Šé™é«˜ï¼‰ â”‚
â”‚                                                                 â”‚
â”‚   ğŸ¯ ç»¼åˆæ¨è: Route M (Representation/Model)                   â”‚
â”‚   âš ï¸ å¾…éªŒè¯: Gate-1 ç¡®è®¤ä¿¡æ¯ä¸Šé™ä¸æ˜¯ ~0.5ï¼ŒGate-3 ç¡®è®¤ Ïƒ éæ·å¾„ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 3. ğŸ’¡ Insight Confluence

> **Aggregate findings from multiple experiments â†’ high-level conclusions**

## 3.1 Confluence Index

| # | Theme | Sources | Conclusion | Confidence |
|---|-------|---------|------------|------------|
| C1 | æ˜ å°„æœ¬è´¨çº¿æ€§ | exp_alpha_sweep, exp_100k | noise=0 æ—¶ RÂ²=0.999ï¼ŒNN çš„ä¸»è¦ä»»åŠ¡æ˜¯ä¿¡æ¯è¿‡æ»¤ | ğŸŸ¢ High |
| C2 | æ­£åˆ™åŒ–è§„å¾‹ | exp_alpha_sweep, exp_scaling | æœ€ä¼˜ Î± éšå™ªå£°å•è°ƒå¢å¤§ï¼Œè·¨ 6 ä¸ªæ•°é‡çº§ | ğŸŸ¢ High |
| C3 | noise=0 æ˜¯"å­¤å²›" | exp_stability | æ— å™ªå£°è®­ç»ƒçš„ç‰¹å¾/æ¨¡å‹ä¸èƒ½è¿ç§»åˆ°æœ‰å™ªå£°åœºæ™¯ | ğŸŸ¢ High |
| C4 | Error åŒ…å«ç‰©ç†ä¿¡æ¯ | exp_error | Ïƒ é€šé“å¯ç‹¬ç«‹é¢„æµ‹ log_g (RÂ²=0.91)ï¼Œå…³ç³»éçº¿æ€§ | ğŸŸ¢ High |
| C5 | æ•°æ®é‡å¢ç›Šæœ‰é™ | exp_100k, exp_ml_ceiling | Ridge å¯¹æ•°æ®é‡ä¸æ•æ„Ÿï¼Œ100kâ†’1M ä»… +2.44% | ğŸŸ¢ High |
| C6 | Ridge æ€§èƒ½å¤©èŠ±æ¿ | exp_ml_ceiling | 1M æ•°æ® + noise=1 ä¸‹ RÂ²=0.50ï¼Œæ— æ³•çªç ´ | ğŸŸ¢ High |

## 3.2 Confluence Details

### C1: æ˜ å°„æœ¬è´¨çº¿æ€§

**Individual Findings:**

| Source | Finding | Key Data |
|--------|---------|----------|
| [exp_alpha_sweep](./exp/exp_ridge_alpha_sweep_20251127.md) | noise=0 æ—¶ Ridge æ¥è¿‘å®Œç¾ | RÂ²=0.999 |
| [exp_alpha_sweep](./exp/exp_ridge_alpha_sweep_20251127.md) | å³ä½¿æ— å™ªå£°ä¹Ÿéœ€æ­£åˆ™åŒ– | Î±=0.001 ä¼˜äº OLS +3.1% |
| [exp_100k](./exp/exp_ridge_100k_noise_sweep_20251205.md) | æ›´å¤šæ•°æ®ä»…å¾®å°æ”¹è¿› | å¹³å‡ +2.71% |

**Synthesized Conclusion:**
> **log_g ä¿¡æ¯å‡ ä¹å®Œå…¨ç¼–ç åœ¨å…‰è°±çš„çº¿æ€§å­ç©ºé—´ä¸­ã€‚NN çš„ä¸»è¦ä»»åŠ¡ä¸æ˜¯"æå–éçº¿æ€§ç‰¹å¾"ï¼Œè€Œæ˜¯"å­¦ä¼šå¿½ç•¥æ— å…³åƒç´ "â€”â€”è¿™æ˜¯ä¸€ä¸ªä¿¡æ¯è¿‡æ»¤é—®é¢˜ã€‚**

**Design Implications:**
- NN æ¶æ„åº”åŒ…å« Linear shortcut: $\hat{y} = w^\top x + g_\theta(x)$
- æ¨¡å‹å®¹é‡åº”ä¼˜å…ˆåˆ†é…ç»™"å»å™ª/è¿‡æ»¤"æœºåˆ¶ï¼ˆAttention, Sparseï¼‰

---

### C2: æ­£åˆ™åŒ–è§„å¾‹

**Individual Findings:**

| Source | Finding | Key Data |
|--------|---------|----------|
| [exp_alpha_sweep](./exp/exp_ridge_alpha_sweep_20251127.md) | æœ€ä¼˜ Î± ä» 0.001â†’1000 | è·¨ 6 ä¸ªæ•°é‡çº§ |
| [exp_alpha_sweep](./exp/exp_ridge_alpha_sweep_20251127.md) | æ­£åˆ™åŒ–æ”¶ç›Šéšå™ªå£°å¢å¤§ | +3.1% â†’ +68.4% |
| [exp_scaling](../scaling/exp/) | å¤§æ ·æœ¬ä¸‹ Î± éœ€æ›´å¤§ | 100k: Î±=3e4, 1M: Î±=1e5 |

**Synthesized Conclusion:**
> **æ­£åˆ™åŒ–å¼ºåº¦å¿…é¡»ä¸å™ªå£°æ°´å¹³åŒ¹é…ï¼šå™ªå£°è¶Šå¤§ï¼Œéœ€è¦"æ‰”æ‰"çš„æ— å…³åƒç´ è¶Šå¤šï¼ŒÎ± è¶Šå¤§ã€‚æ•°æ®é‡å¢å¤§æ—¶ï¼ŒÎ± ä¹Ÿéœ€ç›¸åº”å¢å¤§ï¼ˆçº¦ 3x per 10x dataï¼‰ã€‚**

**Design Implications:**
- Weight decay ä¸èƒ½å›ºå®šï¼Œéœ€ä¸å™ªå£°æŒ‚é’©
- å›ºå®š Î± ç­–ç•¥åœ¨è·¨å™ªå£°åœºæ™¯ä¸‹ä¸å¯è¡Œ

---

### C3: noise=0 æ˜¯"å­¤å²›"

**Synthesized Conclusion:**
> **æ— å™ªå£°æ•°æ®å­¦åˆ°çš„ç‰¹å¾é‡è¦æ€§/æ¨¡å‹å‚æ•°ä¸æœ‰å™ªå£°åœºæ™¯å®Œå…¨ä¸åŒã€‚åœ¨ noise=0 ä¸Šè®­ç»ƒåè¿ç§»åˆ°æœ‰å™ªå£°åœºæ™¯ä¼šå¯¼è‡´ä¸¥é‡æ€§èƒ½ä¸‹é™ã€‚é«˜å™ªå£°(â‰¥0.5)é—´å¯å®‰å…¨è¿ç§»ã€‚**

**Design Implications:**
- é¿å…åœ¨æ— å™ªå£°æ•°æ®ä¸Šè®­ç»ƒåç”¨äºå®é™…è§‚æµ‹
- ç‰¹å¾é€‰æ‹©åº”åœ¨ç›®æ ‡å™ªå£°æ°´å¹³ä¸‹è¿›è¡Œ
- é«˜å™ªå£°è®­ç»ƒæ›´é²æ£’

---

### C4: Error åŒ…å«ç‰©ç†ä¿¡æ¯

**Synthesized Conclusion:**
> **Error Ïƒ é€šè¿‡å…‰å­è®¡æ•°ç»Ÿè®¡ä¸æ’æ˜Ÿäº®åº¦ï¼ˆå› æ­¤ä¸ log_gï¼‰ç‰©ç†å…³è”ã€‚è¿™æ˜¯å¯åˆ©ç”¨çš„è¾…åŠ©ä¿¡æ¯ï¼Œä½†éœ€è¦éçº¿æ€§æ¨¡å‹æ‰èƒ½æå–ã€‚**

**Design Implications:**
- NN è¾“å…¥è®¾è®¡ä¸ºåŒé€šé“ [flux, Ïƒ]
- ç»„åˆæ–¹å¼ï¼šç›´æ¥æ‹¼æ¥æˆ– SNR = flux/error
- éœ€è¦è¶³å¤Ÿçš„éçº¿æ€§å±‚æ¥åˆ©ç”¨ error ä¿¡æ¯

---

### C5+C6: æ•°æ®é‡å¢ç›Šæœ‰é™ + æ€§èƒ½å¤©èŠ±æ¿

**Synthesized Conclusion:**
> **Ridge åœ¨é«˜å™ªå£°åœºæ™¯ä¸‹å­˜åœ¨æ˜ç¡®çš„æ€§èƒ½å¤©èŠ±æ¿ï¼ˆRÂ² â‰ˆ 0.50 @ noise=1ï¼‰ï¼Œä¸”å¤§æ•°æ®ï¼ˆ1M vs 100kï¼‰æ— æ³•çªç ´æ­¤ç“¶é¢ˆï¼ˆä»… +2.44%ï¼‰ã€‚è¿™è¡¨æ˜æ¨¡å‹è¡¨è¾¾èƒ½åŠ›æ˜¯ç“¶é¢ˆè€Œéæ•°æ®é‡ï¼Œä¸ºæ·±åº¦å­¦ä¹ æ–¹æ³•æä¾›äº†æ˜ç¡®çš„æ”¹è¿›ç©ºé—´ç›®æ ‡ï¼ˆéœ€è¶…è¿‡ 0.70ï¼‰ã€‚**

**Design Implications:**
- èµ„æºåº”æŠ•å…¥æ¨¡å‹æ¶æ„æ”¹è¿›ï¼ˆå¦‚æ·±åº¦å­¦ä¹ ï¼‰è€Œéå¢åŠ æ•°æ®
- RÂ²=0.50 å¯ä½œä¸ºæ·±åº¦å­¦ä¹  baselineï¼Œç›®æ ‡åº”è¶…è¿‡ 0.70
- é«˜å™ªå£°ä¸‹éœ€è¦æ›´å¼ºæ­£åˆ™åŒ–ï¼ˆÎ±=5000 @ 1Mï¼‰

---

## 3.3 Conflicting Findings

| Theme | Exp A Conclusion | Exp B Conclusion | Possible Cause | Resolution |
|-------|------------------|------------------|----------------|------------|
| - | - | - | - | æ— æ˜æ˜¾å†²çª |

---

# 4. ğŸ“ Design Principles

> **Reusable principles distilled from experiments**

## 4.1 Confirmed Principles

| # | Principle | Recommendation | Evidence | Scope |
|---|-----------|----------------|----------|-------|
| P1 | **Linear Shortcut** | NN æ¶æ„: $\hat{y} = w^\top x + g_\theta(x)$ | exp_alpha_sweep | log_g é¢„æµ‹ |
| P2 | **ä¿¡æ¯è¿‡æ»¤ä¼˜å…ˆ** | è®¾è®¡ä¾§é‡ Attention/Sparse/Denoising | exp_alpha_sweep, exp_stability | é«˜ç»´å…‰è°± |
| P3 | **Weight Decay ä¸å™ªå£°æŒ‚é’©** | å™ªå£° â†‘ â†’ æ­£åˆ™åŒ– â†‘ | exp_alpha_sweep | æ‰€æœ‰çº¿æ€§/NN æ¨¡å‹ |
| P4 | **é¿å… noise=0 è®­ç»ƒ** | è®­ç»ƒå™ªå£°åº” â‰¥ ç›®æ ‡æµ‹è¯•å™ªå£° | exp_stability, exp_topk | ç‰¹å¾é€‰æ‹©/è¿ç§»å­¦ä¹  |
| P5 | **åŒé€šé“è¾“å…¥** | è¾“å…¥ [flux, Ïƒ] æˆ– flux/Ïƒ | exp_error | åŒ…å« error ä¿¡æ¯çš„æ•°æ® |
| P6 | **é«˜å™ªå£°è®­ç»ƒæ›´é²æ£’** | noise â‰¥ 0.5 æ—¶ç‰¹å¾ç¨³å®š | exp_stability | è·¨å™ªå£°è¿ç§» |
| P7 | **Ridge å¤©èŠ±æ¿ ~0.50** | é«˜å™ªå£°(Ïƒ=1)ä¸‹æ— æ³•çªç ´ï¼Œéœ€æ·±åº¦å­¦ä¹  | exp_ml_ceiling | èµ„æºåˆ†é…å†³ç­– |

## 4.2 Key Numbers Reference

| Metric | Value | Condition | Source |
|--------|-------|-----------|--------|
| æœ€ä½³æ— å™ªå£° RÂ² | **0.999** | Ridge Î±=0.001, noise=0, 32k | exp_alpha_sweep |
| æœ€ä½³é«˜å™ªå£° RÂ² (32k) | **0.458** | Ridge Î±=200, noise=1.0 | exp_alpha_sweep |
| æœ€ä½³é«˜å™ªå£° RÂ² (100k) | **0.486** | Ridge Î±=3.16e4, noise=1.0 | exp_scaling |
| æœ€ä½³é«˜å™ªå£° RÂ² (1M) | **0.4997** | Ridge Î±=5000, noise=1.0 | exp_ml_ceiling |
| æœ€å¤§æ­£åˆ™åŒ–æ”¶ç›Š | **+68.4%** | noise=2.0, Ridge vs OLS | exp_alpha_sweep |
| æœ€ä¼˜ Î± èŒƒå›´ (32k) | **0.001 â†’ 1000** | noise: 0 â†’ 2.0 | exp_alpha_sweep |
| æœ€ä¼˜ Î± (1M, noise=1) | **5000** | 1M æ•°æ® | exp_ml_ceiling |
| Error-only RÂ² | **0.91** | LightGBM, noise=0 | exp_error |
| 100k vs 32k å¹³å‡å¢ç›Š | **+2.71%** | æ‰€æœ‰å™ªå£°æ°´å¹³ | exp_100k |
| 1M vs 100k å¢ç›Š | **+2.44%** | noise=1.0 | exp_ml_ceiling |
| é«˜å™ªå£°ç‰¹å¾ç›¸å…³æ€§ | **>0.95** | noise â‰¥ 0.5, ä»»æ„ Î± | exp_stability |
| Ridge æ€§èƒ½å¤©èŠ±æ¿ | **~0.50** | 1M, noise=1, æ— æ³•çªç ´ | exp_ml_ceiling |

## 4.3 Closed Directions

| Direction | Evidence | Reason | Lessons |
|-----------|----------|--------|---------|
| ~~å›ºå®š Î± ç­–ç•¥~~ | exp_alpha_sweep | æœ€ä¼˜ Î± è·¨ 6 ä¸ªæ•°é‡çº§ | Î± å¿…é¡»ä¸å™ªå£°åŒ¹é… |
| ~~noise=0 è®­ç»ƒè¿ç§»~~ | exp_stability, exp_topk | noise=0 æ˜¯"å­¤å²›" | è®­ç»ƒå™ªå£°åº”åŒ¹é…ç›®æ ‡åœºæ™¯ |
| ~~å¢åŠ æ•°æ®é‡çªç ´ Ridge~~ | exp_ml_ceiling | 1M vs 100k ä»… +2.44%ï¼Œæ–œç‡â‰ˆ0 | **ç“¶é¢ˆåœ¨ representationï¼Œä¸åœ¨æ ·æœ¬é‡** |

---

# 5. ğŸ“ Appendix

## 5.0 Hypothesis Archive

> **æˆ˜ç•¥å‡è®¾å’Œæœºåˆ¶å‡è®¾å­˜æ¡£ï¼ˆä» Â§2 ä¸‹æ”¾çš„è¯¦ç»†å†…å®¹ï¼‰**

<details>
<summary><b>Strategic Hypotheses (H1â€“H4)</b></summary>

| # | Hypothesis | Status | If True | If False | Evidence |
|---|------------|--------|---------|----------|----------|
| H1 | æˆ‘ä»¬å·²ä» data-limited è½¬ä¸º model/representation-limited | âœ… | æ”¹ representation/æ¨¡å‹ | ç»§ç»­å †æ•°æ® | exp_100k, exp_ml_ceiling |
| H2 | Ridge çš„ Î± æ˜¯"æœ‰æ•ˆè‡ªç”±åº¦/ä¿¡æ¯è¿‡æ»¤å¼ºåº¦"çš„è§‚æµ‹é‡ | âœ… | éœ€è¦é€‰æ‹©æ€§è¿‡æ»¤ | Î± åªæ˜¯è°ƒå‚ç»†èŠ‚ | exp_alpha_sweep, exp_scaling |
| H3 | noise=0 æ˜¯"ç‰©ç†ä¸Šä¸çœŸå®çš„å­¤å²›" | âœ… | è®­ç»ƒè¦è´´ç›®æ ‡å™ªå£° | å¯ç”¨ noise=0 é¢„è®­ç»ƒ | exp_stability, exp_topk |
| H4 | Error(Ïƒ) é€šé“å¯èƒ½æ˜¯ shortcut | ğŸ”„ | éœ€è¦å®¡è®¡ | å¯ç›´æ¥ä½¿ç”¨ | exp_error |

</details>

<details>
<summary><b>Mechanistic Hypotheses (M1â€“M4)</b></summary>

| # | Hypothesis | æœºåˆ¶è§£é‡Š | éªŒè¯æ–¹å¼ | Status |
|---|------------|---------|---------|--------|
| M1 | Ridge å¤©èŠ±æ¿æ¥è‡ª"åƒç´ çº§çº¿æ€§è¯»å‡º"æ— æ³•è¡¨è¾¾å½¢çŠ¶ | log_g çš„å…³é”®åœ¨è°±çº¿å®½åº¦/ç¿¼éƒ¨/å±€éƒ¨å½¢çŠ¶ | E2: å½¢çŠ¶ç‰¹å¾æ˜¾å¼åŒ– | ğŸ”„ |
| M2 | é«˜å™ªå£°éš¾ç‚¹æ˜¯å»é€€åŒ–ï¼šä¸åŒç‰©ç†å‚æ•°åœ¨è§‚æµ‹ç©ºé—´é‡å  | åŒä¸€è§‚æµ‹å¯¹åº”å¤šç§å‚æ•°ç»„åˆ | E4: Mixture-of-Linear | ğŸ”„ |
| M3 | Ridge çš„è¿‡æ»¤æ˜¯"ç›²è¿‡æ»¤"ï¼Œéœ€è¦é€‰æ‹©æ€§è¿‡æ»¤ | åªèƒ½æ•´ä½“æ”¶ç¼©ï¼Œåšä¸äº†æŒ‰ SNR/ç‰©ç†çº¿ç³»çš„é€‰æ‹©æ€§ä¿ç•™ | E3: SNR-aware Ridge | ğŸ”„ |
| M4 | Ïƒ-log_g å¼ºç›¸å…³å¯èƒ½æ˜¯æ·å¾„ | å¯èƒ½æ¥è‡ªè§‚æµ‹æ¡ä»¶ä¸æ ·æœ¬é€‰æ‹©è€¦åˆ | E5: Ïƒ æ³„æ¼å®¡è®¡ | ğŸ”„ |

</details>

---

## 5.1 Domain Background

### 5.1.1 log_g ä¸å…‰è°±çš„ç‰©ç†å…³ç³»

log_gï¼ˆè¡¨é¢é‡åŠ›å¯¹æ•°ï¼‰ä¸»è¦å½±å“å…‰è°±ä¸­ï¼š
- **å‹åŠ›æ•æ„Ÿè°±çº¿å®½åº¦**ï¼šé«˜ log_gï¼ˆçŸ®æ˜Ÿï¼‰â†’ é«˜å‹ â†’ è°±çº¿å¢å®½
- **ç”µç¦»å¹³è¡¡**ï¼šå½±å“ä¸åŒç”µç¦»æ€ç¦»å­çš„ç›¸å¯¹ä¸°åº¦
- **è¿ç»­è°±æ–œç‡**ï¼šé€šè¿‡æ¸©åº¦-å…‰åº¦å…³ç³»é—´æ¥å½±å“

### 5.1.2 å™ªå£°æ¨¡å‹

$$
\text{noisy\_flux} = \text{flux} + \mathcal{N}(0, 1) \times \text{error} \times \text{noise\_level}
$$

å…¶ä¸­ error æ¥è‡ªå…‰å­è®¡æ•°ç»Ÿè®¡ï¼š$\sigma_i \approx \sqrt{F_i + N_{\text{sky}} + N_{\text{read}}^2}$

---

## 5.2 Glossary

| Term | Definition | Notes |
|------|------------|-------|
| Ridge Î± | L2 æ­£åˆ™åŒ–å¼ºåº¦ | Î± è¶Šå¤§ï¼Œæ”¶ç¼©è¶Šå¼º |
| RÂ² | å†³å®šç³»æ•° | 1 ä¸ºå®Œç¾ï¼Œ0 ä¸ºå‡å€¼é¢„æµ‹ |
| OLS | æ™®é€šæœ€å°äºŒä¹˜ | Î±=0 çš„ Ridge |
| SNR | ä¿¡å™ªæ¯” | flux / error |
| Top-K | é€‰æ‹©æœ€é‡è¦çš„ K ä¸ªç‰¹å¾ | åŸºäº \|w_i\| æ’åº |
| Selector nzX.X | åœ¨ noise=X.X æ•°æ®ä¸Šè®­ç»ƒçš„ç‰¹å¾é€‰æ‹©å™¨ | - |

---

## 5.3 Changelog

| Date | Change | Sections |
|------|--------|----------|
| 2025-12-23 | ğŸ¯ **é‡æ„ Â§2 ä¸º Answer Key + Strategic Route**ï¼Œç§»é™¤ Decision Gates åˆ° Roadmap | Â§2 å…¨é¢é‡å†™ |
| 2025-12-23 | ğŸ“¦ å‡è®¾å­˜æ¡£ç§»è‡³ Â§5.0 Hypothesis Archive | Â§5.0 æ–°å¢ |
| 2025-12-23 | ğŸ†• Added 1M Ridge results from exp_ml_ceiling | Â§2.1, Â§3, Â§4.2 |
| 2025-12-23 | Created Hub from ridge_main | All |
| 2025-12-22 | exp_ml_ceiling completed (1M Ridge) | - |
| 2025-12-05 | exp_100k completed | - |
| 2025-11-30 | Original ridge_main created | - |
| 2025-11-29 | exp_topk completed | - |
| 2025-11-28 | exp_stability completed | - |
| 2025-11-27 | exp_alpha_sweep, exp_error completed | - |

---

> **Template Usage:**
> 
> ## Hub vs Roadmap èŒè´£åˆ†å·¥
> 
> | é—®é¢˜ | Hub | Roadmap |
> |------|-----|---------|
> | æˆ‘ä»¬çŸ¥é“ä»€ä¹ˆï¼Ÿ | âœ… Â§2 Answer Key | |
> | è¯¥å¾€å“ªèµ°ï¼Ÿ | âœ… Â§2 Strategic Route | |
> | æ€ä¹ˆéªŒè¯ï¼Ÿï¼ˆDecision Gatesï¼‰ | | âœ… Â§1 |
> | åšå“ªäº›å®éªŒï¼Ÿ | | âœ… Â§2, Â§3 |
> | æœ¬å‘¨åšä»€ä¹ˆï¼Ÿ | | âœ… Â§1.3 This Week's Focus |
> | è¿›åº¦å¦‚ä½•ï¼Ÿ | | âœ… Â§4 |
> | å­¦åˆ°äº†ä»€ä¹ˆæ´è§ï¼Ÿ | âœ… Â§3 Confluence | |
> | è®¾è®¡åŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ | âœ… Â§4 Principles | |
> 
> ## Hub Scope
> - âœ… **Do:** Question Tree, Answer Key, Strategic Route, Insight Confluence, Design Principles
> - âŒ **Don't:** Decision Gates, MVP specs, progress tracking (â†’ roadmap.md)

