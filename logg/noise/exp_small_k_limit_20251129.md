# ğŸ“˜ Small K Limit å®éªŒæŠ¥å‘Š

---
> **å®éªŒåç§°ï¼š** Small K Limit - æå°ç‰¹å¾æ•°é‡ä¸‹ $\log g$ é¢„æµ‹æ€§èƒ½æé™æ¢ç´¢  
> **å¯¹åº” MVPï¼š** TopK æé™åˆ†æ  
> **ä½œè€…ï¼š** Viska Wei  
> **æ—¥æœŸï¼š** 2025-11-29  
> **æ•°æ®ç‰ˆæœ¬ï¼š** LAMOST å…‰è°±æ•°æ® (32k è®­ç»ƒæ ·æœ¬, 4096 ç»´)  
> **æ¨¡å‹ç‰ˆæœ¬ï¼š** Ridge ($\alpha=1.0$), LightGBM (n\_estimators=1000)  
> **çŠ¶æ€ï¼š** âœ… å·²å®Œæˆ

---

# âš¡ æ ¸å¿ƒç»“è®ºé€Ÿè§ˆï¼ˆä¾› main æå–ï¼‰

### ä¸€å¥è¯æ€»ç»“

> **$\log g$ ä¿¡æ¯é«˜åº¦é›†ä¸­åœ¨å°‘æ•°å…³é”®è°±çº¿ï¼ˆCa IIã€Mg Iã€Na Iï¼‰ï¼Œä»…ç”¨ 50-100 ä¸ªç‰¹å¾ï¼ˆ1.2%-2.4%ï¼‰å³å¯ä¿ç•™ 75%-92.5% é¢„æµ‹æ€§èƒ½ã€‚**

### å¯¹å‡è®¾çš„éªŒè¯

| éªŒè¯é—®é¢˜ | ç»“æœ | ç»“è®º |
|---------|------|------|
| æœ€å°‘å¤šå°‘ç‰¹å¾è¾¾ $R^2 > 0.3$ï¼Ÿ | âœ… K=50 (LGBM $R^2$=0.39) | ä¿¡æ¯é«˜åº¦é›†ä¸­ |
| æœ€å°‘å¤šå°‘ç‰¹å¾è¾¾ $R^2 > 0.4$ï¼Ÿ | âœ… K=100 (LGBM $R^2$=0.49) | å®ç”¨é˜ˆå€¼ç¡®å®š |
| LGBM æ˜¯å¦æ˜¾è‘—ä¼˜äº Ridgeï¼Ÿ | âœ… $\Delta R^2 \approx 0.15$-$0.19$ | éçº¿æ€§ç»„åˆå¿…è¦ |

### è®¾è®¡å¯ç¤ºï¼ˆ1-2 æ¡ï¼‰

| å¯ç¤º | å…·ä½“å»ºè®® |
|------|---------|
| **Patch èšç„¦åŒºåŸŸ** | è¦†ç›– 8540-8550 Ã… (Ca II)ã€8805-8815 Ã… (Mg I)ã€8180-8200 Ã… (Na I) |
| **æœ€å° Token æ•°** | çº¦ 50 ä¸ªåƒç´ /patch å³å¯è·å¾—æœ‰æ•ˆä¿¡æ¯ |

### å…³é”®æ•°å­—

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| K=50 (LGBM) $R^2$ | **0.39** |
| K=100 (LGBM) $R^2$ | **0.49** |
| K=100 æ€§èƒ½ä¿ç•™ç‡ | **92.5%** |
| LGBM vs Ridge ä¼˜åŠ¿ | **$\Delta R^2 \approx 0.16$** |

---

# ğŸ“‘ ç›®å½•

- [1. ğŸ¯ ç›®æ ‡](#1--ç›®æ ‡)
- [2. ğŸ§ª å®éªŒè®¾è®¡](#2--å®éªŒè®¾è®¡experiment-design)
- [3. ğŸ“Š å®éªŒå›¾è¡¨](#3--å®éªŒå›¾è¡¨)
- [4. ğŸ’¡ å…³é”®æ´è§](#4--å…³é”®æ´è§key-insights)
- [5. ğŸ“ ç»“è®º](#5--ç»“è®ºconclusion)
- [6. ğŸ“ é™„å½•](#6--é™„å½•)

---

# 1. ğŸ¯ ç›®æ ‡

## 1.1 èƒŒæ™¯ä¸åŠ¨æœº

> **æ ¸å¿ƒç§‘å­¦é—®é¢˜**: "æœ€å°‘éœ€è¦å¤šå°‘æ¡è°±çº¿å°±èƒ½å®ç°æœ‰æ„ä¹‰çš„è¡¨é¢é‡åŠ› ($\log g$) é¢„æµ‹ï¼Ÿ"

- å‰æœŸå®éªŒ (`results/topk_lgbm_importance/`) å‘ç° LGBM importance Top-K (K=200-500) æ˜¯æœ€ä¼˜ç‰¹å¾é€‰æ‹©ç­–ç•¥
- ä½†æœªæ·±å…¥æ¢ç´¢ **æå° K å€¼** (K < 200) çš„æ€§èƒ½æé™
- ç†è§£ $\log g$ ä¿¡æ¯åœ¨å…‰è°±ä¸­çš„é›†ä¸­ç¨‹åº¦ï¼Œä¸ºç‰©ç†å¯è§£é‡Šç¥ç»ç½‘ç»œè®¾è®¡æä¾›ç†è®ºæŒ‡å¯¼

## 1.2 æ ¸å¿ƒå‡è®¾

> **$\log g$ ä¿¡æ¯é«˜åº¦é›†ä¸­åœ¨å°‘æ•°å…³é”®è°±çº¿ï¼Œä½¿ç”¨æå°‘é‡ç‰¹å¾ (K $\leq$ 50) ä»èƒ½å®ç°æœ‰æ„ä¹‰çš„é¢„æµ‹ ($R^2 > 0.3$)ã€‚**

å¦‚æœå‡è®¾æˆç«‹ï¼Œæ„å‘³ç€ï¼š
- å¯ä»¥è®¾è®¡æç®€ç‰©ç†æ¨¡å‹ï¼Œä»…å…³æ³¨å…³é”®è°±çº¿
- ViT/NN çš„ Patch è®¾è®¡å¯èšç„¦äºç‰¹å®šæ³¢é•¿åŒºåŸŸ
- æ¨¡å‹å¯è§£é‡Šæ€§å¤§å¹…æå‡

å¦‚æœå‡è®¾ä¸æˆç«‹ï¼Œåˆ™éœ€è¦ï¼š
- é‡æ–°è¯„ä¼° $\log g$ åœ¨å…‰è°±ç©ºé—´ä¸­çš„åˆ†å¸ƒç‰¹æ€§
- ç‰¹å¾é€‰æ‹©ç­–ç•¥éœ€è¦æ›´å¤§çš„ K å€¼

## 1.3 éªŒè¯é—®é¢˜

| # | é—®é¢˜ | éªŒè¯ç›®æ ‡ | ç»“æœ |
|---|------|---------|------|
| Q1 | æœ€å°‘éœ€è¦å¤šå°‘ç‰¹å¾æ‰èƒ½è¾¾åˆ° $R^2 > 0.3$ï¼Ÿ | éªŒè¯ä¿¡æ¯é›†ä¸­åº¦ | âœ… K=50 (LGBM $R^2$=0.39) |
| Q2 | æœ€å°‘éœ€è¦å¤šå°‘ç‰¹å¾æ‰èƒ½è¾¾åˆ° $R^2 > 0.4$ï¼Ÿ | éªŒè¯å®ç”¨é˜ˆå€¼ | âœ… K=100 (LGBM $R^2$=0.49) |
| Q3 | K=10 æ—¶èƒ½å¦è·å¾—æœ‰æ„ä¹‰çš„é¢„æµ‹ï¼Ÿ | éªŒè¯æé™æƒ…å†µ | âœ… LGBM $R^2$=0.18ï¼ŒRidge $R^2$=0.03 |
| Q4 | LGBM åœ¨å° K æ—¶æ˜¯å¦æ˜¾è‘—ä¼˜äº Ridgeï¼Ÿ | éªŒè¯éçº¿æ€§ç»„åˆçš„å¿…è¦æ€§ | âœ… $\Delta R^2 \approx 0.15$-$0.19$ |
| Q5 | å…³é”®è°±çº¿æ˜¯å¦å¯¹åº”å·²çŸ¥çš„é‡åŠ›æ•æ„Ÿçº¿ï¼Ÿ | éªŒè¯ç‰©ç†å¯è§£é‡Šæ€§ | âœ… Ca II, Mg I, Na I å‡è¢«é€‰ä¸­ |

## 1.4 ç»“è®ºæ‘˜è¦ï¼ˆå®éªŒåå¡«å†™ï¼‰

### 1.4.1 å®éªŒç»“è®º

| ç»“è®º | è¯´æ˜ |
|------|------|
| **ä¿¡æ¯é«˜åº¦é›†ä¸­** | ä»…ç”¨ 100 ä¸ªç‰¹å¾ (2.4%) å³å¯ä¿ç•™ 92.5% é¢„æµ‹æ€§èƒ½ |
| **éçº¿æ€§ç»„åˆå¿…è¦** | LGBM åœ¨æ‰€æœ‰ K å€¼ä¸Šå‡æ˜¾è‘—ä¼˜äº Ridge ($\Delta R^2 \approx 0.16$) |
| **ç‰©ç†å¯è§£é‡Š** | Top-10 ç‰¹å¾é›†ä¸­åœ¨ Ca II 8542ã€Mg I 8807ã€Na I 8183 ç­‰å·²çŸ¥é‡åŠ›æ•æ„Ÿçº¿ |
| **K=50 æ˜¯å®ç”¨é˜ˆå€¼** | è¾¾åˆ° $R^2$=0.39ï¼Œè¦†ç›–ä¸»è¦ç‰©ç†ç‰¹å¾ä¸”ä¿æŒæ¨¡å‹ç®€æ´ |

### 1.4.2 è®¾è®¡å¯ç¤º

| è®¾è®¡åŸåˆ™ | å…·ä½“å»ºè®® |
|---------|---------|
| **Patch èšç„¦åŒºåŸŸ** | ä¼˜å…ˆè¦†ç›– 8540-8550 Ã… (Ca II)ã€8805-8815 Ã… (Mg I)ã€8180-8200 Ã… (Na I) |
| **æœ€å° Token æ•°** | çº¦ 50 ä¸ªåƒç´ /patch å³å¯è·å¾—æœ‰æ•ˆä¿¡æ¯ |
| **éçº¿æ€§èƒ½åŠ›** | ç½‘ç»œéœ€è¦éçº¿æ€§ç‰¹å¾ç»„åˆèƒ½åŠ›ï¼Œçº¯çº¿æ€§å±‚ä¸è¶³ |
| **Ca II Triplet Attention** | å¯è®¾è®¡ä¸“é—¨çš„ Ca II triplet æ³¨æ„åŠ›æœºåˆ¶ |

> **ä¸€å¥è¯æ€»ç»“**ï¼š$\log g$ ä¿¡æ¯é«˜åº¦é›†ä¸­åœ¨å°‘æ•°å…³é”®è°±çº¿ (Ca IIã€Mg Iã€Na I)ï¼Œä»…ç”¨ 50-100 ä¸ªç‰¹å¾å³å¯å®ç° 75%-92% çš„é¢„æµ‹æ€§èƒ½ä¿ç•™ï¼Œä¸ºç‰©ç†å¯è§£é‡Š NN è®¾è®¡æä¾›äº†æ˜ç¡®çš„ç‰¹å¾èšç„¦æ–¹å‘ã€‚

---

# 2. ğŸ§ª å®éªŒè®¾è®¡ï¼ˆExperiment Designï¼‰

## 2.1 æ•°æ®ï¼ˆDataï¼‰

- **è®­ç»ƒæ ·æœ¬æ•°**ï¼š32,000
- **éªŒè¯æ ·æœ¬æ•°**ï¼š~4,000
- **æµ‹è¯•æ ·æœ¬æ•°**ï¼š~4,000
- **ç‰¹å¾ç»´åº¦**ï¼š4,096 (Full Spectrum)
- **æ ‡ç­¾å‚æ•°**ï¼š$\log g$ (è¡¨é¢é‡åŠ›)
- **æ³¢é•¿èŒƒå›´**ï¼šLAMOST å…‰è°±èŒƒå›´
- **æ•°æ®æ¥æº**ï¼š`models/lnreg_n32k/lnreg_n32k_nz1p0.pkl`

**å™ªå£°æ¨¡å‹**ï¼š

$$
X_{\text{noisy}} = X + \sigma_{\text{noise}} \cdot \epsilon \cdot \mathcal{N}(0, 1)
$$

å…¶ä¸­ $\epsilon$ ä¸ºåƒç´ çº§è¯¯å·®ä¼°è®¡ï¼Œ$\sigma_{\text{noise}} \in \{0, 0.1, 0.2, 0.5, 1.0, 1.2, 2.0\}$

> âš ï¸ **é‡è¦**ï¼šå¿…é¡»ä½¿ç”¨ `torch.randn` è€Œé `np.random.randn`ï¼Œå¦åˆ™å³ä½¿ seed ç›¸åŒï¼Œéšæœºæ•°ä¹Ÿä¸åŒï¼

## 2.2 ä½¿ç”¨çš„ç‰¹å¾ç±»å‹

- **ç‰¹å¾é€‰æ‹©æ–¹æ³•**ï¼šTop-K ç‰¹å¾å­é›† (Subsetting + Retraining)
- **K å€¼**ï¼š{200, 100, 50, 10}
- **ç‰¹å¾æ’åºæ¥æº**ï¼š
  - Ridgeï¼šç³»æ•°ç»å¯¹å€¼ $|w_i|$
  - LightGBMï¼š`feature_importances_` (é»˜è®¤ `importance_type='split'`)

**Subsetting vs Masking åŒºåˆ«**ï¼š

| æ–¹æ³• | æ“ä½œ | æ•°æ®ç»´åº¦ | æ¨¡å‹è¾“å…¥ |
|------|------|----------|----------|
| **Subsetting (æœ¬å®éªŒ)** | `X[:, topk_indices]` | 4096 â†’ K | K ç»´å‘é‡ |
| Masking | `X * mask` | ä¿æŒ 4096 | 4096 ç»´å‘é‡ (é TopK ä¸º 0) |

## 2.3 æ¨¡å‹ä¸ç®—æ³•ï¼ˆModel & Algorithmï¼‰

### å²­å›å½’ï¼ˆRidge Regressionï¼‰

$$
\hat{y} = X w + b
$$

$$
w = (X^\top X + \alpha I)^{-1} X^\top y
$$

**ç‰¹å¾æ’åº**ï¼š$\text{ranking} = \text{argsort}(|w|)[\text{::-1}]$

### LightGBM

- Gradient Boosting Decision Tree
- ç‰¹å¾æ’åºåŸºäº `feature_importances_` (split count)

## 2.4 è¶…å‚æ•°ï¼ˆHyperparametersï¼‰

| å‚æ•° | å€¼ | è¯´æ˜ |
|-----|---|-----|
| **K å€¼** | {200, 100, 50, 10} | ç‰¹å¾æ•°é‡ |
| **è®­ç»ƒå™ªå£°** | 1.0 | è®­ç»ƒæ—¶å™ªå£°çº§åˆ« |
| **æµ‹è¯•å™ªå£°** | {0, 0.1, 0.2, 0.5, 1.0, 1.2, 2.0} | 7 ä¸ªæµ‹è¯•å™ªå£°çº§åˆ« |
| **ç‰¹å¾é€‰æ‹©å™ªå£°** | 1.0 | ç”¨äºè®¡ç®—ç‰¹å¾æ’åº |
| **Ridge $\alpha$** | 1.0 | æ­£åˆ™åŒ–å‚æ•° |
| **LGBM n\_estimators** | 1000 | æœ€å¤§è¿­ä»£æ¬¡æ•° |
| **LGBM learning\_rate** | 0.05 | å­¦ä¹ ç‡ |
| **LGBM num\_leaves** | 63 | å¶å­èŠ‚ç‚¹æ•° |
| **LGBM feature\_fraction** | 0.8 | ç‰¹å¾é‡‡æ ·ç‡ |
| **LGBM bagging\_fraction** | 0.8 | æ ·æœ¬é‡‡æ ·ç‡ |
| **LGBM early\_stopping** | 50 rounds | æ—©åœè½®æ•° |

---

# 3. ğŸ“Š å®éªŒå›¾è¡¨

### å›¾ 1ï¼š$R^2$ vs K æ›²çº¿å›¾

![RÂ² vs K](img/small_k_limit_r2_vs_k.png)

**Figure 1. ä¸åŒ K å€¼ä¸‹ RidgeTopK å’Œ LGBMTopK çš„ $R^2$ æ€§èƒ½å¯¹æ¯”**

**å…³é”®è§‚å¯Ÿ**ï¼š
- LGBM åœ¨æ‰€æœ‰ K å€¼ä¸Šå‡æ˜¾è‘—ä¼˜äº Ridge
- K ä» 200 é™è‡³ 100 æ—¶ï¼Œæ€§èƒ½ä¸‹é™è¾ƒå°ï¼›ä» 100 é™è‡³ 50 æ—¶ä¸‹é™æ˜æ˜¾
- K=10 æ—¶ï¼ŒLGBM ä»ç»´æŒ $R^2 \approx 0.18$ï¼ŒRidge å‡ ä¹å¤±æ•ˆ

---

### å›¾ 2ï¼š$R^2$ çƒ­åŠ›å›¾

![Heatmap](img/small_k_limit_heatmap.png)

**Figure 2. K å€¼ Ã— å™ªå£°çº§åˆ«çš„ $R^2$ çƒ­åŠ›å›¾**

**å…³é”®è§‚å¯Ÿ**ï¼š
- ä½å™ªå£°æ—¶ (nz $\leq$ 0.2)ï¼Œå³ä½¿ K=10 ä¹Ÿèƒ½è¾¾åˆ° $R^2 > 0.5$ (LGBM)
- é«˜å™ªå£°æ—¶ (nz=2.0)ï¼ŒRidge å‡ºç°è´Ÿ $R^2$ï¼ŒLGBM ä»ç»´æŒæ­£å€¼
- K=200 åœ¨ nz=0 æ—¶è¾¾åˆ° $R^2$=0.88 (LGBM)

---

### å›¾ 3ï¼šRidge vs LGBM å¯¹æ¯”å›¾

![Ridge vs LGBM](img/small_k_limit_ridge_vs_lgbm.png)

**Figure 3. Ridge ä¸ LGBM åœ¨ä¸åŒ K å€¼å’Œå™ªå£°çº§åˆ«ä¸‹çš„æ€§èƒ½å¯¹æ¯”**

**å…³é”®è§‚å¯Ÿ**ï¼š
- LGBM ä¼˜åŠ¿åœ¨å° K æ—¶æ›´åŠ æ˜¾è‘—
- Ridge åœ¨é«˜å™ªå£°ä¸‹æ€§èƒ½æ€¥å‰§ä¸‹é™ï¼Œè€Œ LGBM æ›´é²æ£’
- ä¸¤è€…å·®è·éš K å‡å°è€Œç•¥æœ‰å¢å¤§

---

# 4. ğŸ’¡ å…³é”®æ´è§ï¼ˆKey Insightsï¼‰

### 4.1 å®è§‚å±‚æ´è§ï¼ˆç”¨äºæŒ‡å¯¼ Neural Network æ¶æ„è®¾è®¡ï¼‰

- **$\log g$ ä¿¡æ¯é«˜åº¦é›†ä¸­**ï¼šä»…ç”¨ 2.4% ç‰¹å¾ (K=100) å³å¯ä¿ç•™ 92.5% é¢„æµ‹æ€§èƒ½
- **å…³é”®è°±çº¿æ˜ç¡®**ï¼šCa II Triplet (8542 Ã…)ã€Mg I (8807 Ã…)ã€Na I doublet (8183/8195 Ã…) æ˜¯æœ€é‡è¦çš„ $\log g$ æ•æ„Ÿçº¿
- **éçº¿æ€§ç»„åˆå¿…è¦**ï¼šLGBM >> Ridgeï¼Œè¯´æ˜ NN éœ€è¦éçº¿æ€§ç‰¹å¾ç»„åˆèƒ½åŠ›
- **Patch è®¾è®¡æ–¹å‘**ï¼šåº”ä¼˜å…ˆè¦†ç›– 8540-8550 Ã…ã€8805-8815 Ã…ã€8180-8200 Ã… ä¸‰ä¸ªæ³¢é•¿åŒºåŸŸ

### 4.2 æ¨¡å‹å±‚æ´è§ï¼ˆç”¨äºä¼˜åŒ–æ¨¡å‹ï¼‰

- **LGBM ç‰¹å¾é€‰æ‹©æ›´ä¼˜**ï¼šç›´æ¥é€‰ä¸­ Ca II 8542 Ã… è°±çº¿æ ¸å¿ƒï¼Œè€Œ Ridge åå‘ continuum åŒºåŸŸ
- **importance\_type å½±å“æ˜¾è‘—**ï¼šæœ¬æ¬¡ä½¿ç”¨ `split` (é»˜è®¤)ï¼Œä¹‹å‰ä½¿ç”¨ `gain`ï¼Œåè€…æ€§èƒ½æ›´é«˜ (~0.03-0.06 $R^2$)
- **K=50 æ˜¯å®ç”¨é˜ˆå€¼**ï¼šè¦†ç›–äº† Ca II triplet + Mg I + Na I + Fe I çš„ä¸»è¦ç‰¹å¾
- **å™ªå£°é²æ£’æ€§**ï¼šLGBM åœ¨é«˜å™ªå£°ä¸‹ä»ç»´æŒæ­£ $R^2$ï¼ŒRidge åˆ™å‡ºç°è´Ÿå€¼

### 4.3 å®éªŒå±‚ç»†èŠ‚æ´è§

- **K=10 çš„ç‰©ç†æ„ä¹‰**ï¼šä»… ~3 æ¡ä¸»è¦è°±çº¿é™„è¿‘çš„ 10 ä¸ªåƒç´ ï¼ŒLGBM èƒ½è¾¾åˆ° $R^2 \approx 0.18$
- **ç‰¹å¾é‡å **ï¼šRidge Top-10 å’Œ LGBM Top-10 éƒ½é€‰ä¸­äº† Mg I 8807 Ã… é™„è¿‘çš„åƒç´ 
- **Ca II 8542 å…³é”®å·®å¼‚**ï¼šLGBM Top-10 åŒ…å« 2 ä¸ª Ca II 8542 æ ¸å¿ƒåƒç´ ï¼ŒRidge Top-10 åŒ…å« 0 ä¸ª
- **åŸºçº¿éªŒè¯**ï¼šFull Spectrum Ridge $\alpha$=100 åœ¨ test\_noise=1.0 æ—¶ $R^2$=0.4507ï¼Œä¸åŸå§‹ alpha\_sweep å®Œå…¨ä¸€è‡´

---

# 5. ğŸ“ ç»“è®ºï¼ˆConclusionï¼‰

## 5.1 æ ¸å¿ƒå‘ç°

> **$\log g$ ä¿¡æ¯é«˜åº¦é›†ä¸­åœ¨å°‘æ•°å…³é”®è°±çº¿ï¼Œä»…ç”¨ 50-100 ä¸ªç‰¹å¾ (1.2%-2.4%) å³å¯å®ç°æœ‰æ„ä¹‰çš„é¢„æµ‹ ($R^2$ = 0.39-0.49)ï¼Œä¸”éçº¿æ€§æ¨¡å‹ (LGBM) åœ¨æå° K æ—¶æ˜¾è‘—ä¼˜äºçº¿æ€§æ¨¡å‹ (Ridge)ã€‚**

- âŒ åŸå‡è®¾ï¼š$\log g$ é¢„æµ‹éœ€è¦å¤§é‡å…‰è°±ç‰¹å¾
- âœ… å®éªŒç»“æœï¼šK=50 å³å¯è¾¾åˆ° $R^2$=0.39ï¼ŒK=100 è¾¾åˆ° $R^2$=0.49ï¼Œä¿¡æ¯é«˜åº¦é›†ä¸­

## 5.2 å…³é”®ç»“è®ºï¼ˆ2-4 æ¡ï¼‰

| # | ç»“è®º | è¯æ® |
|---|------|------|
| 1 | **æé«˜ä¿¡æ¯é›†ä¸­åº¦** | K=100 (2.4% ç‰¹å¾) ä¿ç•™ 92.5% æ€§èƒ½ï¼›K=50 ä¿ç•™ 75% |
| 2 | **éçº¿æ€§ç»„åˆå¿…è¦** | LGBM åœ¨æ‰€æœ‰ K ä¸Šä¼˜äº Ridgeï¼Œ$\Delta R^2 \approx 0.15$-$0.19$ |
| 3 | **å…³é”®è°±çº¿å¯è¯†åˆ«** | Top-10 é›†ä¸­åœ¨ Ca II 8542ã€Mg I 8807ã€Na I 8183 ç­‰å·²çŸ¥é‡åŠ›æ•æ„Ÿçº¿ |
| 4 | **K=50 æ˜¯å®ç”¨é˜ˆå€¼** | è¾¾åˆ° $R^2$=0.39ï¼ŒåŒæ—¶è¦†ç›–ä¸»è¦ç‰©ç†ç‰¹å¾ |

## 5.3 è®¾è®¡å¯ç¤º

### æ¶æ„åŸåˆ™

| åŸåˆ™ | å»ºè®® | åŸå›  |
|------|------|------|
| **Patch èšç„¦** | è¦†ç›– 8540-8550, 8805-8815, 8180-8200 Ã… | Top-10 ç‰¹å¾é›†ä¸­äºæ­¤ |
| **æœ€å° Token æ•°** | ~50 ä¸ªåƒç´ /patch | K=50 å³å¯è¾¾ $R^2$=0.39 |
| **éçº¿æ€§å±‚** | å¿…é¡»åŒ…å«éçº¿æ€§æ¿€æ´» | LGBM >> Ridge |
| **ä¸“ç”¨ Attention** | å¯ä¸º Ca II triplet è®¾è®¡ä¸“é—¨æ³¨æ„åŠ› | Ca II 8542 æ˜¯æœ€å…³é”®çº¿ |

### âš ï¸ å¸¸è§é™·é˜±

| å¸¸è§åšæ³• | å®éªŒè¯æ® |
|----------|----------|
| "ä½¿ç”¨å…¨å…‰è°±ç‰¹å¾" | K=200 (5% ç‰¹å¾) å³å¯è¾¾åˆ° $R^2$=0.50ï¼Œæ— éœ€å…¨éƒ¨ 4096 ç»´ |
| "çº¿æ€§æ¨¡å‹è¶³å¤Ÿ" | Ridge åœ¨ K $\leq$ 100 æ—¶ $R^2 < 0.3$ï¼Œè¿œé€Šäº LGBM |
| "ä½¿ç”¨é»˜è®¤ importance\_type" | `split` æ¯” `gain` ä½ 0.03-0.06 $R^2$ |

## 5.4 ç‰©ç†è§£é‡Š

- **Ca II Triplet** (8498, 8542, 8662 Ã…)ï¼šå‹åŠ›å±•å®½æ•ˆåº”ï¼Œå·¨æ˜Ÿ/çŸ®æ˜Ÿåˆ†ç±»çš„æ ¸å¿ƒæŒ‡æ ‡
- **Mg I 8807 Ã…**ï¼šé‡åŠ›æ•æ„Ÿï¼Œæ™šå‹æ˜Ÿé‡è¦è¯Šæ–­çº¿
- **Na I doublet** (8183, 8195 Ã…)ï¼šå‹åŠ›æ•æ„Ÿï¼Œç”¨äºåŒºåˆ†å…‰åº¦ç­‰çº§
- **LGBM ä¼˜åŠ¿åŸå› **ï¼šèƒ½åˆ©ç”¨éçº¿æ€§ç»„åˆå°‘é‡ç‰¹å¾ï¼Œä¸”ç›´æ¥é€‰ä¸­è°±çº¿æ ¸å¿ƒè€Œé continuum

## 5.5 å…³é”®æ•°å­—é€ŸæŸ¥

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| **æœ€å°è¾¾åˆ° $R^2 > 0.3$** | K=50 (LGBM), $R^2$=0.39 |
| **æœ€å°è¾¾åˆ° $R^2 > 0.4$** | K=100 (LGBM), $R^2$=0.49 |
| **K=10 æé™æ€§èƒ½** | LGBM $R^2$=0.18, Ridge $R^2$=0.03 |
| **LGBM vs Ridge ä¼˜åŠ¿** | $\Delta R^2 \approx 0.15$-$0.19$ |
| **K=100 æ€§èƒ½ä¿ç•™ç‡** | 92.5% (ç›¸æ¯” Full Spectrum) |

## 5.6 ä¸‹ä¸€æ­¥å·¥ä½œ

| æ–¹å‘ | å…·ä½“ä»»åŠ¡ |
|------|----------|
| **importance\_type å¯¹æ¯”** | ä½¿ç”¨ `gain` é‡è·‘å®éªŒï¼Œé¢„æœŸæå‡ 0.03-0.06 $R^2$ |
| **ç‰©ç† Patch è®¾è®¡** | åŸºäº Top-50 æ³¢é•¿è®¾è®¡ ViT patchï¼Œè¦†ç›– Ca II + Mg I + Na I |
| **æ›´å° K æ¢ç´¢** | æµ‹è¯• K $\in$ {5, 3, 1} çš„æé™æ€§èƒ½ |
| **å¤šå‚æ•°è”åˆ** | æ‰©å±•åˆ° $T_{\text{eff}}$ã€[Fe/H] çš„ small K limit åˆ†æ |

---

# 6. ğŸ“ é™„å½•

## 6.1 æ•°å€¼ç»“æœè¡¨ï¼ˆResultsï¼‰

### 6.1.1 Full Spectrum åŸºçº¿ (K=4096)

**ä¹‹å‰æŠ¥å‘Šå€¼ï¼ˆå‚è€ƒï¼‰**ï¼š

| train\_noise | test\_noise | $R^2$ | MAE | RMSE | è¯´æ˜ |
|-------------|------------|------|-------|-------|------|
| 1.0 | 0.0 | 0.8242 | 0.1000 | 0.1224 | æ— æµ‹è¯•å™ªå£° |
| 1.0 | 0.5 | 0.7307 | 0.1178 | 0.1515 | ä½å™ªå£° |
| 1.0 | 1.0 | **0.5243** | 0.1598 | 0.2014 | æ ‡å‡†å™ªå£° |
| 1.0 | 2.0 | 0.3059 | 0.1982 | 0.2433 | é«˜å™ªå£° |

**åŸºçº¿éªŒè¯å®éªŒï¼ˆä½¿ç”¨ torch.randnï¼‰**ï¼š

| Model | test\_noise | $R^2$ | MAE | RMSE |
|-------|------------|-----|-----|------|
| Ridge\_$\alpha$=1.0 | 0.0 | 0.6969 | 0.1268 | 0.1607 |
| Ridge\_$\alpha$=1.0 | 0.5 | 0.6142 | 0.1431 | 0.1814 |
| Ridge\_$\alpha$=1.0 | 1.0 | 0.3867 | 0.1774 | 0.2287 |
| Ridge\_$\alpha$=1.0 | 2.0 | -0.5028 | 0.2662 | 0.3579 |
| Ridge\_$\alpha$=100 | 0.0 | 0.6405 | 0.1419 | 0.1751 |
| Ridge\_$\alpha$=100 | 0.5 | 0.5909 | 0.1510 | 0.1867 |
| Ridge\_$\alpha$=100 | 1.0 | **0.4507** | 0.1730 | 0.2164 |
| Ridge\_$\alpha$=100 | 2.0 | -0.1018 | 0.2350 | 0.3065 |
| LightGBM (n=1000) | 0.0 | 0.8266 | 0.0995 | 0.1216 |
| LightGBM (n=1000) | 0.5 | 0.7181 | 0.1193 | 0.1550 |
| LightGBM (n=1000) | 1.0 | **0.5200** | 0.1628 | 0.2023 |
| LightGBM (n=1000) | 2.0 | 0.3021 | 0.2018 | 0.2439 |
| LightGBM (n=500) | 0.0 | 0.8152 | 0.1032 | 0.1255 |
| LightGBM (n=500) | 0.5 | 0.7135 | 0.1209 | 0.1563 |
| LightGBM (n=500) | 1.0 | **0.5155** | 0.1637 | 0.2032 |
| LightGBM (n=500) | 2.0 | 0.2953 | 0.2030 | 0.2451 |

### 6.1.2 Small K å®éªŒå®Œæ•´ç»“æœ

**RidgeTopK ç»“æœ**ï¼š

| K | nz=0 | nz=0.1 | nz=0.2 | nz=0.5 | nz=1.0 | nz=1.2 | nz=2.0 |
|---|------|--------|--------|--------|--------|--------|--------|
| 200 | 0.5871 | 0.5809 | 0.5703 | 0.5123 | 0.3285 | 0.2244 | -0.3664 |
| 100 | 0.4871 | 0.4822 | 0.4740 | 0.4302 | 0.2931 | 0.2157 | -0.2220 |
| 50 | 0.3890 | 0.3853 | 0.3789 | 0.3433 | 0.2296 | 0.1651 | -0.2015 |
| 10 | 0.0675 | 0.0656 | 0.0632 | 0.0532 | 0.0269 | 0.0130 | -0.0617 |

**LGBMTopK ç»“æœ**ï¼š

| K | nz=0 | nz=0.1 | nz=0.2 | nz=0.5 | nz=1.0 | nz=1.2 | nz=2.0 |
|---|------|--------|--------|--------|--------|--------|--------|
| 200 | 0.8785 | 0.8723 | 0.8481 | 0.7050 | 0.4955 | 0.4332 | 0.2804 |
| 100 | 0.8272 | 0.8249 | 0.8128 | 0.6784 | 0.4852 | 0.4273 | 0.2610 |
| 50 | 0.8034 | 0.7917 | 0.7571 | 0.6023 | 0.3931 | 0.3414 | 0.1787 |
| 10 | 0.6410 | 0.6212 | 0.5639 | 0.3725 | 0.1846 | 0.1460 | 0.0486 |

### 6.1.3 æ¨¡å‹å¯¹æ¯” (test\_noise=1.0)

| K | RidgeTopK $R^2$ | LGBMTopK $R^2$ | $\Delta$ (LGBM - Ridge) |
|---|-----------------|----------------|-------------------------|
| 200 | 0.3285 | 0.4955 | +0.1670 |
| 100 | 0.2931 | 0.4852 | +0.1921 |
| 50 | 0.2296 | 0.3931 | +0.1635 |
| 10 | 0.0269 | 0.1846 | +0.1577 |

### 6.1.4 ä¸ä¹‹å‰å®éªŒå¯¹æ¯” (test\_noise=1.0)

| K | æœ¬æ¬¡ $R^2$ (split) | ä¹‹å‰ $R^2$ (gain) | $\Delta R^2$ |
|---|-------------------|------------------|--------------|
| 200 | 0.4955 | 0.5547 | -0.0592 |
| 100 | 0.4852 | 0.5100 | -0.0248 |
| 50 | 0.3931 | 0.4552 | -0.0621 |

### 6.1.5 æ€§èƒ½ä¿ç•™ç‡åˆ†æ

| æ¨¡å‹ | K | $R^2$ | ç›¸æ¯” Full Spectrum | ç‰¹å¾å‹ç¼©ç‡ |
|------|---|-------|-------------------|-----------|
| LGBMTopK | 200 | 0.496 | ä¿ç•™ 94.5% | 95.1% |
| LGBMTopK | 100 | 0.485 | ä¿ç•™ 92.5% | 97.6% |
| LGBMTopK | 50 | 0.393 | ä¿ç•™ 75.0% | 98.8% |
| LGBMTopK | 10 | 0.185 | ä¿ç•™ 35.3% | 99.8% |

### 6.1.6 $R^2$ é˜ˆå€¼è¾¾æˆåˆ†æ

| $R^2$ é˜ˆå€¼ | RidgeTopK æœ€å° K | LGBMTopK æœ€å° K | ç‰¹å¾å‹ç¼©ç‡ |
|-----------|------------------|-----------------|-----------|
| $R^2 > 0.1$ | K=200 (0.33) | K=10 (0.18) | LGBM: 99.8% |
| $R^2 > 0.2$ | K=200 (0.33) | K=10 (0.18) | LGBM: 99.8% |
| $R^2 > 0.3$ | K=200 (0.33) | K=50 (0.39) | LGBM: 98.8% |
| $R^2 > 0.4$ | æ— æ³•è¾¾åˆ° | K=100 (0.49) | LGBM: 97.6% |
| $R^2 > 0.5$ | æ— æ³•è¾¾åˆ° | éœ€ K > 200 | - |

## 6.2 ç‰©ç†è°±çº¿åˆ†æ

### 6.2.1 é‡è¦è°±çº¿å‚è€ƒè¡¨

| æ³¢é•¿èŒƒå›´ (Ã…) | å…ƒç´ /åˆ†å­ | è°±çº¿ç±»å‹ | å¯¹ $\log g$ æ•æ„ŸåŸå›  |
|-------------|----------|---------|---------------------|
| 8498, 8542, 8662 | Ca II | Ca II Triplet | å¼ºé‡åŠ›æ•æ„Ÿçº¿ï¼Œå·¨æ˜Ÿ/çŸ®æ˜Ÿåˆ†ç±»å…³é”® |
| 8183, 8195 | Na I | Na I doublet | å‹åŠ›æ•æ„Ÿï¼ŒåŒºåˆ†å…‰åº¦ç­‰çº§ |
| 8806-8810 | Mg I | Mg I 8806.8 | é‡åŠ›æ•æ„Ÿï¼Œæ™šå‹æ˜Ÿé‡è¦ |
| 8750-8760 | Fe I | Fe I multiplet | æ¸©åº¦/é‡åŠ›æ•æ„Ÿ |
| 7148-7155 | Fe I / TiO | Fe I 7148 / TiO | æ™šå‹æ˜Ÿåˆ†å­å¸¦è¾¹ç¼˜ |
| 7665-7670 | K I | K I 7665, 7699 | å‹åŠ›æ•æ„Ÿ doublet |
| 7320-7330 | Fe I / [Ca II] | æ··åˆåŒº | æ™šå‹æ˜Ÿç‰¹å¾ |
| 8600-8620 | Continuum | Ca II çº¢ç¿¼ | Pseudo-continuum |

### 6.2.2 Top-10 æ³¢é•¿ï¼ˆå¸¦å…ƒç´ æ ‡æ³¨ï¼‰

**Ridge Top-10**ï¼š

| æ’å | æ³¢é•¿ (Ã…) | å¯èƒ½å…ƒç´  | å¤‡æ³¨ |
|------|---------|---------|------|
| 1 | 8808.8 | Mg I | Mg I 8806.8 é™„è¿‘ |
| 2 | 8809.2 | Mg I | Mg I 8806.8 é™„è¿‘ |
| 3 | 8809.6 | Mg I | Mg I 8806.8 é™„è¿‘ |
| 4 | 8601.1 | Continuum | Ca II triplet çº¢ç¿¼ |
| 5 | 8601.6 | Continuum | Ca II triplet çº¢ç¿¼ |
| 6 | 8752.8 | Fe I | Fe I multiplet |
| 7 | 7150.2 | Fe I / TiO | Fe I 7148 æˆ– TiO è¾¹ç¼˜ |
| 8 | 8185.8 | Na I | Na I 8183 doublet |
| 9 | 8753.2 | Fe I | Fe I multiplet |
| 10 | 8691.3 | Ca II | Ca II 8662 çº¢ç¿¼ |

**LGBM Top-10**ï¼š

| æ’å | æ³¢é•¿ (Ã…) | å¯èƒ½å…ƒç´  | å¤‡æ³¨ |
|------|---------|---------|------|
| 1 | 8809.2 | Mg I | Mg I 8806.8 é™„è¿‘ |
| 2 | 8808.8 | Mg I | Mg I 8806.8 é™„è¿‘ |
| 3 | 8544.3 | **Ca II** | â­ Ca II 8542 æ ¸å¿ƒï¼|
| 4 | 8753.2 | Fe I | Fe I multiplet |
| 5 | 8544.7 | **Ca II** | â­ Ca II 8542 æ ¸å¿ƒï¼|
| 6 | 8809.6 | Mg I | Mg I 8806.8 é™„è¿‘ |
| 7 | 8752.8 | Fe I | Fe I multiplet |
| 8 | 8601.1 | Continuum | Ca II çº¢ç¿¼ |
| 9 | 7150.2 | Fe I / TiO | Fe I 7148 |
| 10 | 8752.4 | Fe I | Fe I multiplet |

### 6.2.3 Top-10 å…ƒç´ åˆ†å¸ƒç»Ÿè®¡

| å…ƒç´  | Ridge Top-10 | LGBM Top-10 |
|------|-------------|-------------|
| Mg I (~8807Ã…) | 3 ä¸ª | 3 ä¸ª |
| **Ca II 8542 æ ¸å¿ƒ** | 0 ä¸ª | **2 ä¸ª** â­ |
| Fe I (~8752Ã…) | 2 ä¸ª | 3 ä¸ª |
| Na I (~8185Ã…) | 1 ä¸ª | 0 ä¸ª |
| Fe I/TiO (~7150Ã…) | 1 ä¸ª | 1 ä¸ª |
| Continuum/çº¢ç¿¼ | 3 ä¸ª | 1 ä¸ª |

### 6.2.4 Top-50 æ³¢é•¿åˆ—è¡¨

**Ridge Top-50**ï¼š8808.8Ã…, 8809.2Ã…, 8809.6Ã…, 8601.1Ã…, 8601.6Ã…, 8752.8Ã…, 7150.2Ã…, 8185.8Ã…, 8753.2Ã…, 8691.3Ã…, 8544.3Ã…, 8548.2Ã…, 8196.5Ã…, 8810.1Ã…, 8808.3Ã…, 8197.0Ã…, 8753.7Ã…, 8440.5Ã…, 8185.4Ã…, 8752.4Ã…, 8691.7Ã…, 7327.9Ã…, 7149.8Ã…, 8329.0Ã…, 8504.6Ã…, 8390.5Ã…, 8185.0Ã…, 8664.8Ã…, 8544.7Ã…, 7328.4Ã…, 7667.6Ã…, 8197.4Ã…, 8547.7Ã…, 8602.0Ã…, 8186.3Ã…, 8390.1Ã…, 7667.2Ã…, 8500.3Ã…, 8690.9Ã…, 8500.7Ã…, 8600.7Ã…, 8825.9Ã…, 7666.7Ã…, 8505.0Ã…, 8548.6Ã…, 8810.5Ã…, 8547.3Ã…, 7150.6Ã…, 8751.9Ã…, 8389.2Ã…

**LGBM Top-50**ï¼š8809.2Ã…, 8808.8Ã…, 8544.3Ã…, 8753.2Ã…, 8544.7Ã…, 8809.6Ã…, 8752.8Ã…, 8601.1Ã…, 7150.2Ã…, 8752.4Ã…, 8543.9Ã…, 8808.3Ã…, 7149.8Ã…, 8548.2Ã…, 8601.6Ã…, 8196.5Ã…, 8197.0Ã…, 8185.4Ã…, 8500.3Ã…, 8185.8Ã…, 8810.1Ã…, 8690.9Ã…, 7327.9Ã…, 8500.7Ã…, 8664.8Ã…, 8197.4Ã…, 8600.7Ã…, 7150.6Ã…, 8185.0Ã…, 8753.7Ã…, 8807.9Ã…, 8547.3Ã…, 7667.6Ã…, 8600.3Ã…, 7328.4Ã…, 8186.3Ã…, 8504.6Ã…, 8545.2Ã…, 8505.0Ã…, 8691.7Ã…, 8547.7Ã…, 8546.0Ã…, 8499.9Ã…, 7667.2Ã…, 8810.5Ã…, 8545.6Ã…, 8196.1Ã…, 8602.0Ã…, 8543.5Ã…, 7416.8Ã…

### 6.2.5 Top-50 ä¸»è¦è°±çº¿åŒºåŸŸè¦†ç›–

| è°±çº¿åŒºåŸŸ | Ridge Top-50 | LGBM Top-50 |
|---------|-------------|-------------|
| Ca II 8542 (8540-8550Ã…) | 4 ä¸ªåƒç´  | **8 ä¸ªåƒç´ ** â­ |
| Ca II 8498 (8495-8510Ã…) | 4 ä¸ªåƒç´  | 5 ä¸ªåƒç´  |
| Ca II 8662 (8660-8700Ã…) | 4 ä¸ªåƒç´  | 4 ä¸ªåƒç´  |
| Mg I 8807 (8805-8815Ã…) | 6 ä¸ªåƒç´  | 6 ä¸ªåƒç´  |
| Na I doublet (8180-8200Ã…) | 6 ä¸ªåƒç´  | 6 ä¸ªåƒç´  |
| Fe I 8750 (8750-8760Ã…) | 5 ä¸ªåƒç´  | 5 ä¸ªåƒç´  |
| K I 7665 (7665-7670Ã…) | 3 ä¸ªåƒç´  | 3 ä¸ªåƒç´  |
| Fe I/TiO 7150 (7145-7155Ã…) | 3 ä¸ªåƒç´  | 3 ä¸ªåƒç´  |

## 6.3 å®éªŒå‚æ•°å¯¹æ¯”

### 6.3.1 æ¨¡å‹é…ç½®å¯¹æ¯”

| æ¨¡å‹ | å‚æ•° | small\_k\_limit | topk\_lgbm\_importance |
|------|------|-----------------|------------------------|
| Ridge | $\alpha$ | 1.0 | 100.0 |
| LightGBM | n\_estimators | 1000 | 500 |
| LightGBM | learning\_rate | 0.05 | 0.05 |
| LightGBM | num\_leaves | 63 | 63 |
| LightGBM | importance\_type | split (é»˜è®¤) | **gain** |

### 6.3.2 å®Œæ•´ LightGBM å‚æ•°

```python
LGBM_PARAMS = {
    'n_estimators': 1000,
    'learning_rate': 0.05,
    'num_leaves': 63,
    'max_depth': -1,
    'feature_fraction': 0.8,
    'bagging_fraction': 0.8,
    'bagging_freq': 5,
    'verbose': -1,
    'random_state': 42,
    # æ³¨æ„: é»˜è®¤ importance_type='split'
    # è‹¥éœ€ä¸ä¹‹å‰ç»“æœä¸€è‡´ï¼Œåº”è®¾ä¸º 'gain'
}
```

## 6.4 å»ºè®®ç»˜å›¾ï¼ˆPlot Suggestionsï¼‰

### 6.4.1 Top-K æ³¢é•¿åœ¨å…‰è°±ä¸Šçš„åˆ†å¸ƒå›¾
- **ç›®çš„**ï¼šå±•ç¤º Top-10/50/100 é€‰ä¸­æ³¢é•¿åœ¨å…¨å…‰è°±ä¸Šçš„ä½ç½®
- **X è½´**ï¼šæ³¢é•¿ (Ã…)
- **Y è½´**ï¼šç¤ºä¾‹å…‰è°±å¼ºåº¦
- **å›¾ä¸Šæ ‡æ³¨**ï¼šç”¨ä¸åŒé¢œè‰²æ ‡è®° Ridge vs LGBM é€‰ä¸­çš„æ³¢é•¿ï¼Œæ ‡æ³¨ä¸»è¦è°±çº¿å…ƒç´ 

### 6.4.2 æ€§èƒ½ä¿ç•™ç‡ vs ç‰¹å¾å‹ç¼©ç‡æ›²çº¿
- **ç›®çš„**ï¼šå±•ç¤ºç‰¹å¾å‹ç¼©çš„æ•ˆç‡è¾¹ç•Œ
- **X è½´**ï¼šç‰¹å¾å‹ç¼©ç‡ (%)
- **Y è½´**ï¼š$R^2$ æ€§èƒ½ä¿ç•™ç‡ (%)
- **å›¾ä¸Šæ ‡æ³¨**ï¼šæ ‡è®° K=10, 50, 100, 200 å¯¹åº”çš„ç‚¹

### 6.4.3 LGBM vs Ridge å·®å¼‚çƒ­åŠ›å›¾
- **ç›®çš„**ï¼šå±•ç¤ºä¸¤ç§æ¨¡å‹åœ¨ä¸åŒ K å’Œå™ªå£°çº§åˆ«ä¸‹çš„æ€§èƒ½å·®å¼‚
- **X è½´**ï¼šå™ªå£°çº§åˆ«
- **Y è½´**ï¼šK å€¼
- **å›¾ä¸Šæ ‡æ³¨**ï¼šé¢œè‰²è¡¨ç¤º $\Delta R^2$ (LGBM - Ridge)

## 6.5 ç›¸å…³æ–‡ä»¶

| ç±»å‹ | è·¯å¾„ |
|------|------|
| **åŸå§‹æ•°æ®ç›®å½•** | `/home/swei20/VIT/gpt/noise/small_k_limit/` |
| å®Œæ•´å®éªŒç»“æœ | `small_k_limit_results.csv` (58 æ¡è®°å½•) |
| ä¸ä¹‹å‰ç»“æœå¯¹æ¯” | `small_k_limit_comparison.csv` |
| å¸¦åŸºçº¿çš„å®Œæ•´ç»“æœ | `small_k_limit_results_with_baseline.csv` |
| åŸºçº¿éªŒè¯æ•°æ® | `baseline_verification.csv` |
| åŸºçº¿éªŒè¯æŠ¥å‘Š | `baseline_verification.md` |
| $R^2$ vs K æ›²çº¿å›¾ | `small_k_limit_r2_vs_k.png` |
| $R^2$ çƒ­åŠ›å›¾ | `small_k_limit_heatmap.png` |
| Ridge vs LGBM å¯¹æ¯”å›¾ | `small_k_limit_ridge_vs_lgbm.png` |
| åŸå§‹è¯¦ç»†æŠ¥å‘Š | `small_k_limit_report.md` |

---

**æŠ¥å‘Šå®Œæˆæ—¶é—´**ï¼š2025-11-29  
**å®éªŒè„šæœ¬**ï¼š`scripts/small_k_limit_experiment.py`
