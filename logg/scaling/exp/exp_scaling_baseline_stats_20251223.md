# ğŸ“˜ Experiment Report: Baseline ç»Ÿè®¡å¯ä¿¡åº¦éªŒè¯

---
> **Name:** Ridge/LGBM Ceiling ç»Ÿè®¡å¯ä¿¡åº¦éªŒè¯  
> **ID:**  `SCALING-20251223-baseline-stats-01`  
> **Topic ï½œ MVP:** `scaling` ï½œ MVP-16B (P0 æœ€é«˜ä¼˜å…ˆçº§)  
> **Author:** Viska Wei  
> **Date:** 2025-12-23  
> **Project:** `VIT`  
> **Status:** ğŸ”´ Ready
---
## ğŸ”— Upstream Links

| Type | Link | Description |
|------|------|-------------|
| ğŸ§  Hub | [`scaling_hub_20251222.md`](../scaling_hub_20251222.md) | H-16B.1~3, Q5 |
| ğŸ—ºï¸ Roadmap | [`scaling_roadmap_20251222.md`](../scaling_roadmap_20251222.md) | MVP-16B è§„æ ¼ |
| ğŸ“‹ Kanban | `status/kanban.md` | Phase 16 P0 ä¸‰ä»¶å¥— |
| ğŸ“š Prerequisite | [`exp_scaling_ml_ceiling_20251222.md`](./exp_scaling_ml_ceiling_20251222.md) | MVP-1.0/1.1/1.2 |

---
# ğŸ“‘ Table of Contents

- [âš¡ Key Findings](#-key-findings-for-hub-extraction)
- [1. ğŸ¯ Objective](#1--objective)
- [2. ğŸ§ª Experiment Design](#2--experiment-design)
- [3. ğŸ“Š Figures & Results](#3--figures--results)
- [4. ğŸ’¡ Insights](#4--insights)
- [5. ğŸ“ Conclusions](#5--conclusions)
- [6. ğŸ“ Appendix](#6--appendix)

---


## âš¡ æ ¸å¿ƒç»“è®ºé€Ÿè§ˆï¼ˆä¾› main æå–ï¼‰

> â³ **å®éªŒå®Œæˆåå¡«å†™**

### ä¸€å¥è¯æ€»ç»“

> TODO

### å¯¹å‡è®¾çš„éªŒè¯

| éªŒè¯é—®é¢˜ | ç»“æœ | ç»“è®º |
|---------|------|------|
| H-16B.1: Ridge RÂ²=0.50 Â± std < 0.01? | â³ | TODO |
| H-16B.2: LGBM RÂ²=0.57 Â± std < 0.02? | â³ | TODO |
| H-16B.3: æ‰©å¤§ test åç»“è®ºä¸å˜? | â³ | TODO |

### è®¾è®¡å¯ç¤ºï¼ˆ1-2 æ¡ï¼‰

| å¯ç¤º | å…·ä½“å»ºè®® |
|------|---------|
| TODO | TODO |

### å…³é”®æ•°å­—

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| Ridge RÂ² (mean Â± std) | TODO |
| LGBM RÂ² (mean Â± std) | TODO |
| test=500 vs test=5k å·®å¼‚ | TODO |

---

# 1. ğŸ¯ ç›®æ ‡

## 1.1 å®éªŒç›®çš„

> **æ ¸å¿ƒé—®é¢˜**ï¼šæŠŠ "Ridge=0.50 / LGBM=0.57" åšæˆå¯ä¿¡çš„ ceiling

**å›ç­”çš„é—®é¢˜**ï¼š
1. å¤š seed (5-10) é‡å¤æ—¶ï¼ŒRÂ² çš„ std æ˜¯å¤šå°‘ï¼Ÿ
2. æ‰©å¤§ test set (500â†’5k) åï¼Œç»“è®ºæ˜¯å¦æ”¹å˜ï¼Ÿ
3. LGBM å‚æ•°ç©ºé—´æ˜¯å¦è¦†ç›–å®Œå…¨ï¼Ÿ

**å¯¹åº” hub.md çš„**ï¼š
- éªŒè¯å‡è®¾ï¼šH-16B.1, H-16B.2, H-16B.3
- é—®é¢˜æ ‘ï¼šQ5

**ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªå®éªŒ**ï¼š
- ç°æœ‰ç»“è®ºåŸºäº test=500ï¼Œè¯„ä¼°å™ªå£°å¯èƒ½å¾ˆå¤§
- å• seed ç»“æœå¯èƒ½æœ‰å
- éœ€è¦"å¯å†™å…¥è®ºæ–‡/æ±‡æŠ¥"çš„è¯æ®é“¾

## 1.2 é¢„æœŸç»“æœ

| åœºæ™¯ | é¢„æœŸç»“æœ | åˆ¤æ–­æ ‡å‡† |
|------|---------|---------|
| ç»“è®ºç¨³å¥ | std < 0.01 | å¯ä¿¡åº¦é«˜ |
| å­˜åœ¨è¯„ä¼°å™ªå£° | std â‰ˆ 0.02 | éœ€è¦æŠ¥å‘Š CI |
| test å¤§å°å½±å“ | test=5k ç»“æœä¸ test=500 å·® > 0.01 | éœ€è¦ä¿®æ­£ |

---

# 2. ğŸ§ª å®éªŒè®¾è®¡

## 2.1 æ•°æ®

### æ•°æ®æ¥æºä¸è§„æ¨¡

| é…ç½®é¡¹ | å€¼ | è¯´æ˜ |
|--------|-----|------|
| **æ•°æ®æ¥æº** | BOSZ åˆæˆå…‰è°± | mag205_225_lowT_1M |
| **è®­ç»ƒæ ·æœ¬æ•°** | 500k æˆ– 1M | å›ºå®šï¼Œå¤š seed |
| **æµ‹è¯•æ ·æœ¬æ•°** | 500 / 1k / 5k / 10k / 20k | æ‰«æ test å¤§å° |
| **ç‰¹å¾ç»´åº¦** | ~7200 | å…¨æ³¢æ®µå…‰è°± |
| **ç›®æ ‡å‚æ•°** | log_g | ä¸»ç›®æ ‡ |

### å™ªå£°é…ç½®

| é…ç½®é¡¹ | å€¼ | è¯´æ˜ |
|--------|-----|------|
| **å™ªå£°ç±»å‹** | gaussian | é«˜æ–¯å™ªå£° |
| **å™ªå£°æ°´å¹³ Ïƒ** | 1.0 | é«˜å™ªå£°åœºæ™¯ |
| **åº”ç”¨èŒƒå›´** | all | è®­ç»ƒå’Œæµ‹è¯•éƒ½åŠ å™ªå£° |

## 2.2 æ¨¡å‹ä¸ç®—æ³•

### Ridge Regression

$$
\hat{y} = \mathbf{w}^\top \mathbf{x}, \quad \mathbf{w} = (\mathbf{X}^\top\mathbf{X} + \alpha \mathbf{I})^{-1}\mathbf{X}^\top\mathbf{y}
$$

**è¶…å‚æ•°**ï¼š
- alphaï¼š1e5ï¼ˆæ²¿ç”¨ MVP-1.4 æœ€ä¼˜å€¼ï¼‰

### LightGBM

**è¶…å‚æ•°**ï¼š
- learning_rateï¼š0.05
- n_estimatorsï¼š5000
- num_leavesï¼š31
- early_stopping_roundsï¼š100

### æ–¹æ³• B2: LGBM å‚æ•°ç©ºé—´æ‰©å±•

| å‚æ•° | æ‰«æèŒƒå›´ |
|------|---------|
| num_leaves | 31, 63, 127, 255 |
| max_depth | -1, 5, 7, 10 |
| learning_rate | 0.01, 0.02, 0.05, 0.1 |
| min_data_in_leaf | 20, 100, 500 |
| reg_alpha | 0, 0.1, 1.0 |
| reg_lambda | 0, 0.1, 1.0 |

## 2.3 è¶…å‚æ•°é…ç½®

### å¤š Seed é…ç½®

| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| **seeds** | [42, 123, 456, 789, 2024, 31415, 271828, 161803, 141421, 173205] | 10 ä¸ª seed |
| **è®­ç»ƒæ•°æ®** | 1M | å›ºå®š |
| **æµ‹è¯•æ•°æ®** | 5k | æ‰©å¤§åçš„ test |

### Test Size æ‰«æ

| æ‰«æå‚æ•° | æ‰«æèŒƒå›´ | å›ºå®šå‚æ•° |
|---------|---------|---------|
| test_size | 500, 1k, 5k, 10k, 20k | train=1M, seed=42 |

## 2.4 è¯„ä»·æŒ‡æ ‡

| æŒ‡æ ‡ | å…¬å¼ | ç”¨é€” |
|------|------|------|
| **RÂ² mean** | $\bar{R^2}$ | ä¸­å¿ƒä¼°è®¡ |
| **RÂ² std** | $\sqrt{\frac{1}{n-1}\sum(R^2_i - \bar{R^2})^2}$ | ç¨³å®šæ€§ |
| **95% CI** | $\bar{R^2} \pm 1.96 \cdot \frac{\text{std}}{\sqrt{n}}$ | ç½®ä¿¡åŒºé—´ |

---

# 3. ğŸ“Š å®éªŒå›¾è¡¨

> â³ **å®éªŒå®Œæˆåå¡«å†™**

### å›¾ 1ï¼šå¤š Seed RÂ² åˆ†å¸ƒ

![å›¾ç‰‡](../img/TODO.png)

**Figure 1. 10 ä¸ª seed çš„ RÂ² åˆ†å¸ƒï¼ˆç®±çº¿å›¾ï¼‰**

**å…³é”®è§‚å¯Ÿ**ï¼š
- TODO

---

### å›¾ 2ï¼šTest Size vs RÂ²

![å›¾ç‰‡](../img/TODO.png)

**Figure 2. ä¸åŒ test size ä¸‹çš„ RÂ² å˜åŒ–**

**å…³é”®è§‚å¯Ÿ**ï¼š
- TODO

---

### å›¾ 3ï¼šLGBM å‚æ•°æ‰«æ

![å›¾ç‰‡](../img/TODO.png)

**Figure 3. LGBM å‚æ•°ç©ºé—´æ‰«æç»“æœï¼ˆçƒ­å›¾ï¼‰**

**å…³é”®è§‚å¯Ÿ**ï¼š
- TODO

---

# 4. ğŸ’¡ å…³é”®æ´è§

> â³ **å®éªŒå®Œæˆåå¡«å†™**

## 4.1 å®è§‚å±‚æ´è§

TODO

## 4.2 æ¨¡å‹å±‚æ´è§

TODO

## 4.3 å®éªŒå±‚ç»†èŠ‚æ´è§

TODO

---

# 5. ğŸ“ ç»“è®º

> â³ **å®éªŒå®Œæˆåå¡«å†™**

## 5.1 æ ¸å¿ƒå‘ç°

TODO

## 5.2 å…³é”®ç»“è®ºï¼ˆ2-4 æ¡ï¼‰

TODO

## 5.3 è®¾è®¡å¯ç¤º

TODO

## 5.4 ç‰©ç†è§£é‡Š

> è¯„ä¼°å™ªå£°çš„æ¥æºï¼š
> - å° test set çš„é‡‡æ ·æ–¹å·®
> - ä¸åŒ seed å¯¼è‡´çš„æ•°æ®åˆ’åˆ†å·®å¼‚
> - è®­ç»ƒè¿‡ç¨‹çš„éšæœºæ€§ï¼ˆå¯¹ LGBMï¼‰

## 5.5 å…³é”®æ•°å­—é€ŸæŸ¥

| æŒ‡æ ‡ | å€¼ | é…ç½®/æ¡ä»¶ |
|------|-----|----------|
| Ridge RÂ² (mean) | TODO | 10 seeds |
| Ridge RÂ² (std) | TODO | 10 seeds |
| LGBM RÂ² (mean) | TODO | 10 seeds |
| LGBM RÂ² (std) | TODO | 10 seeds |
| test=500 vs 5k å·®å¼‚ | TODO | |

## 5.6 ä¸‹ä¸€æ­¥å·¥ä½œ

| æ–¹å‘ | å…·ä½“ä»»åŠ¡ | ä¼˜å…ˆçº§ | å¯¹åº” MVP |
|------|----------|--------|---------|
| å¦‚æœ std < 0.01 | 0.50/0.57 å¯å†™å…¥è®ºæ–‡ | âœ… | å®Œæˆ |
| å¦‚æœ std > 0.02 | éœ€è¦æ›´å¤§ test æˆ–æ›´å¤š seed | ğŸ”´ | é‡å¤ |
| LGBM plateau è¯æ˜ | å‚æ•°ç©ºé—´è¦†ç›–å®Œå…¨ | ğŸŸ¡ | åˆ†æ |

---

# 6. ğŸ“ é™„å½•

## 6.1 æ•°å€¼ç»“æœè¡¨

> â³ **å®éªŒå®Œæˆåå¡«å†™**

### å¤š Seed ç»“æœ

| Seed | Ridge RÂ² | LGBM RÂ² |
|------|----------|---------|
| 42 | TODO | TODO |
| 123 | TODO | TODO |
| 456 | TODO | TODO |
| 789 | TODO | TODO |
| 2024 | TODO | TODO |
| 31415 | TODO | TODO |
| 271828 | TODO | TODO |
| 161803 | TODO | TODO |
| 141421 | TODO | TODO |
| 173205 | TODO | TODO |
| **mean** | TODO | TODO |
| **std** | TODO | TODO |
| **95% CI** | TODO | TODO |

### Test Size å½±å“

| Test Size | Ridge RÂ² | LGBM RÂ² |
|-----------|----------|---------|
| 500 | TODO | TODO |
| 1k | TODO | TODO |
| 5k | TODO | TODO |
| 10k | TODO | TODO |
| 20k | TODO | TODO |

### LGBM å‚æ•°æ‰«æ

| num_leaves | max_depth | lr | RÂ² |
|------------|-----------|-----|-----|
| 31 | -1 | 0.05 | TODO (baseline) |
| 63 | -1 | 0.05 | TODO |
| 127 | -1 | 0.05 | TODO |
| 255 | -1 | 0.05 | TODO |
| 31 | 5 | 0.05 | TODO |
| 31 | 7 | 0.05 | TODO |
| 31 | -1 | 0.01 | TODO |
| 31 | -1 | 0.02 | TODO |
| 31 | -1 | 0.1 | TODO |
| ... | ... | ... | ... |

---

## 6.2 å®éªŒæµç¨‹è®°å½•

> â³ **å®éªŒå®Œæˆåå¡«å†™**

### 6.2.1 ç¯å¢ƒä¸é…ç½®

| é¡¹ç›® | å€¼ |
|------|-----|
| **ä»“åº“** | `~/VIT` |
| **è„šæœ¬è·¯å¾„** | `scripts/baseline_stats_validation.py` |
| **è¾“å‡ºè·¯å¾„** | `results/baseline_stats/` |

### 6.2.2 æ‰§è¡Œå‘½ä»¤

```bash
# TODO: å®éªŒæ‰§è¡Œå‘½ä»¤
```

---

## 6.3 ç›¸å…³æ–‡ä»¶

| ç±»å‹ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| Hub | `logg/scaling/scaling_hub_20251222.md` | H-16B, Q5 |
| Roadmap | `logg/scaling/scaling_roadmap_20251222.md` | MVP-16B è§„æ ¼ |
| æœ¬æŠ¥å‘Š | `logg/scaling/exp/exp_scaling_baseline_stats_20251223.md` | å½“å‰æ–‡ä»¶ |
| å‰ç½® | `logg/scaling/exp/exp_scaling_ml_ceiling_20251222.md` | åˆå§‹ ceiling ç»“è®º |

---

## 6.4 ç»Ÿè®¡å­¦èƒŒæ™¯

### è¯„ä¼°æ–¹å·®åˆ†è§£

æ€»è¯„ä¼°æ–¹å·® = æ¨¡å‹æ–¹å·® + é‡‡æ ·æ–¹å·® + æ•°æ®åˆ’åˆ†æ–¹å·®

$$
\text{Var}(R^2) = \text{Var}_{\text{model}} + \text{Var}_{\text{sampling}} + \text{Var}_{\text{split}}
$$

- **æ¨¡å‹æ–¹å·®**ï¼šä¸åŒåˆå§‹åŒ–å¯¼è‡´çš„å·®å¼‚ï¼ˆå¯¹ Ridge â‰ˆ 0ï¼‰
- **é‡‡æ ·æ–¹å·®**ï¼šæœ‰é™ test set å¯¼è‡´çš„è¯„ä¼°å™ªå£°
- **åˆ’åˆ†æ–¹å·®**ï¼šä¸åŒ train/test åˆ’åˆ†å¯¼è‡´çš„å·®å¼‚

### éœ€è¦çš„æ ·æœ¬é‡

å¯¹äº 95% CI å®½åº¦ < 0.01ï¼š
$$
n_{\text{test}} \ge \left(\frac{1.96 \cdot \sigma}{0.005}\right)^2
$$

å‡è®¾ Ïƒ â‰ˆ 0.02ï¼Œåˆ™éœ€è¦ test â‰¥ 61ï¼ˆå®é™…éœ€è¦æ›´å¤šè€ƒè™‘å…¶ä»–å› ç´ ï¼‰

---

> **æ¨¡æ¿ä½¿ç”¨è¯´æ˜**ï¼š
> 
> - â³ æ ‡è®°çš„éƒ¨åˆ†åœ¨å®éªŒå®Œæˆåå¡«å†™
> - æ ¸å¿ƒç»“è®ºé€Ÿè§ˆåœ¨å®éªŒå®Œæˆåç¬¬ä¸€æ—¶é—´å¡«å†™
> - åŒæ­¥åˆ° hub.md Â§5 è®¾è®¡åŸåˆ™åº“ï¼ˆç»Ÿè®¡æ–¹æ³•è®ºï¼‰


